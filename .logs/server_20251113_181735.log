[18:17:38] SERVER | üîÑ Loading environment configuration...
[18:17:38] SERVER | ‚úÖ Loaded API keys from: /Users/dominikfoert/.ki_autoagent/config/.env
[18:17:38] SERVER | 
[18:17:38] SERVER | ====================================================================================================
[18:17:38] SERVER | [1m[96müöÄ KI AutoAgent v7.0 - STARTUP[0m
[18:17:38] SERVER | ====================================================================================================
[18:17:38] SERVER | Started: 2025-11-13 18:17:38
[18:17:38] SERVER | Python: 3.13.9
[18:17:38] SERVER | ====================================================================================================
[18:17:38] SERVER | 
[18:17:38] SERVER | 
[18:17:38] SERVER | [96m[1müîÑ STARTUP SEQUENCE INITIATED[0m
[18:17:38] SERVER | 
[18:17:38] SERVER | [1mStep 1: Checking Python Version...[0m
[18:17:38] SERVER |    ‚úÖ Python 3.13.9
[18:17:38] SERVER | 
[18:17:38] SERVER | [1mStep 2: Checking Environment...[0m
[18:17:38] SERVER |    ‚úÖ Environment file: /Users/dominikfoert/.ki_autoagent/config/.env
[18:17:38] SERVER | 
[18:17:38] SERVER | [1mStep 3: Checking Dependencies...[0m
[18:17:38] SERVER |    ‚úÖ fastapi
[18:17:38] SERVER |    ‚úÖ uvicorn
[18:17:38] SERVER |    ‚úÖ websockets
[18:17:38] SERVER |    ‚úÖ langgraph
[18:17:39] SERVER |    ‚úÖ langchain_openai
[18:17:39] SERVER |    ‚úÖ pydantic
[18:17:39] SERVER | 
[18:17:39] SERVER | [1mStep 4: Checking Port 8002...[0m
[18:17:39] SERVER | 
[18:17:39] SERVER | [96m[1müîç PORT STATUS[0m
[18:17:39] SERVER |    Host: localhost
[18:17:39] SERVER |    Port: 8002
[18:17:39] SERVER |    Status: [91m‚ùå IN USE[0m
[18:17:39] SERVER |    PID: 65789
[18:17:39] SERVER |    Process: /opt/homebrew/Cellar/python@3.13/3.13.9_1/Frameworks/Python.framework/Versions/3.13/Resources/Python.app/Contents/MacOS/Python
[18:17:39] SERVER | 
[18:17:39] SERVER | [1mStep 5: Cleaning up port if needed...[0m
[18:17:39] SERVER | 2025-11-13 18:17:39,221 - backend.utils.port_manager - WARNING - ‚ö†Ô∏è Port 8002 is in use
[18:17:39] SERVER | 
[18:17:39] SERVER | [93m[1müîÑ CLEANING UP EXISTING SERVER[0m
[18:17:39] SERVER |    Found process using port 8002:
[18:17:39] SERVER |    ‚Ä¢ PID: 65789
[18:17:39] SERVER |    ‚Ä¢ Command: /opt/homebrew/Cellar/python@3.13/3.13.9_1/Frameworks/Python.framework/Versions/3.13/Resources/Python.app/Contents/MacOS/Python
[18:17:39] SERVER |    ‚Ä¢ Status: running
[18:17:39] SERVER | 2025-11-13 18:17:39,361 - backend.utils.port_manager - INFO -    Sending SIGTERM to PID 65789...
[18:17:39] SERVER | 2025-11-13 18:17:39,566 - backend.utils.port_manager - INFO -    ‚úÖ Process 65789 terminated gracefully
[18:17:40] SERVER |    ‚úÖ Port 8002 is now available
[18:17:40] SERVER | 
[18:17:40] SERVER |    ‚úÖ Port 8002 is available
[18:17:40] SERVER | 
[18:17:40] SERVER | [1mStep 6: Running Full Diagnostics...[0m
[18:17:40] SERVER | 
[18:17:40] SERVER | [1mStep 7: Checking for Deprecated Modules...[0m
[18:17:40] SERVER |    ‚ÑπÔ∏è  12 deprecated modules registered
[18:17:40] SERVER |       ‚Ä¢ CRITICAL: 3 (blocks startup if loaded)
[18:17:40] SERVER |       ‚Ä¢ ERROR:    5 (warns loudly)
[18:17:40] SERVER |       ‚Ä¢ WARNING:  4 (informational)
[18:17:40] SERVER | 2025-11-13 18:17:40,070 - backend.deprecation.validator - INFO - ‚úÖ Import deprecation hook installed
[18:17:40] SERVER |    ‚úÖ Import deprecation hook installed
[18:17:40] SERVER | 
[18:17:40] SERVER | [92m[1m‚úÖ ALL CHECKS PASSED - READY TO START SERVER[0m
[18:17:40] SERVER | 
[18:17:40] SERVER | [96m[1müöÄ STARTING SERVER...[0m
[18:17:40] SERVER | 
[18:17:40] SERVER |     WebSocket: ws://localhost:8002/ws/chat
[18:17:40] SERVER |     Health Check: http://localhost:8002/health
[18:17:40] SERVER |     Diagnostics: http://localhost:8002/diagnostics
[18:17:40] SERVER | 
[18:17:40] SERVER | 2025-11-13 18:17:40,196 - faiss.loader - INFO - Loading faiss.
[18:17:40] SERVER | 2025-11-13 18:17:40,210 - faiss.loader - INFO - Successfully loaded faiss.
[18:17:40] SERVER | 2025-11-13 18:17:40,224 - backend.api.server_v7_mcp - INFO - ‚ö° uvloop ENABLED: Event loop performance boosted
[18:17:40] SERVER | 2025-11-13 18:17:40,224 - backend.api.server_v7_mcp - INFO - ‚úÖ Loaded API keys from: /Users/dominikfoert/.ki_autoagent/config/.env
[18:17:40] SERVER | 2025-11-13 18:17:40,224 - backend.utils.api_validator - INFO - üîë Validating API keys...
[18:17:40] SERVER | 2025-11-13 18:17:40,964 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
[18:17:40] SERVER | 2025-11-13 18:17:40,967 - backend.utils.api_validator - INFO - ‚úÖ OPENAI_API_KEY: Valid
[18:17:41] SERVER | 2025-11-13 18:17:41,144 - backend.utils.api_validator - WARNING - ‚ö†Ô∏è PERPLEXITY_API_KEY: Connectivity uncertain (HTTP 405)
[18:17:41] SERVER | 2025-11-13 18:17:41,144 - backend.utils.api_validator - WARNING -    Will attempt to use the key anyway
[18:17:41] SERVER | 2025-11-13 18:17:41,145 - backend.utils.api_validator - INFO - üîë API key validation complete
[18:17:41] SERVER | 2025-11-13 18:17:41,145 - backend.api.server_v7_mcp - INFO - üîí Workspace Isolation Enabled - Server Root: /Users/dominikfoert/git/KI_AutoAgent
[18:17:41] SERVER | 2025-11-13 18:17:41,145 - backend.api.server_v7_mcp - INFO - ‚ö†Ô∏è MCP BLEIBT: Pure MCP architecture - agents are MCP servers!
[18:17:41] SERVER | 2025-11-13 18:17:41,145 - backend.api.server_v7_mcp - INFO -    NO AI Factory initialization needed
[18:17:41] SERVER | 2025-11-13 18:17:41,145 - backend.api.server_v7_mcp - INFO -    All agents run as separate MCP server processes
[18:17:41] SERVER | 2025-11-13 18:17:41,145 - backend.api.server_v7_mcp - INFO -    Communication via JSON-RPC over stdin/stdout
[18:17:41] SERVER | 2025-11-13 18:17:41,145 - backend.api.server_v7_mcp - INFO -    MCPManager will start all agents on first workflow execution
[18:17:41] SERVER | 2025-11-13 18:17:41,145 - backend.utils.session_store - INFO - ‚úÖ Loaded 5 sessions from /Users/dominikfoert/.ki_autoagent/sessions/sessions.json
[18:17:41] SERVER | 2025-11-13 18:17:41,145 - backend.api.server_v7_mcp - INFO - ‚úÖ Session store initialized: 5 existing sessions
[18:17:41] SERVER | INFO:     Started server process [67751]
[18:17:41] SERVER | INFO:     Waiting for application startup.
[18:17:41] SERVER | 
[18:17:41] SERVER | ====================================================================================================
[18:17:41] SERVER | [1m[96müöÄ KI AutoAgent v7.0 - STARTUP[0m
[18:17:41] SERVER | ====================================================================================================
[18:17:41] SERVER | Started: 2025-11-13 18:17:41
[18:17:41] SERVER | Python: 3.13.9
[18:17:41] SERVER | ====================================================================================================
[18:17:41] SERVER | 
[18:17:41] SERVER | 2025-11-13 18:17:41,209 - backend.api.server_v7_mcp - INFO - üîç Checking server port...
[18:17:41] SERVER | 
[18:17:41] SERVER | [96m[1müîç PORT STATUS[0m
[18:17:41] SERVER |    Host: localhost
[18:17:41] SERVER |    Port: 8002
[18:17:41] SERVER |    Status: [92m‚úÖ AVAILABLE[0m
[18:17:41] SERVER | 
[18:17:41] SERVER | 2025-11-13 18:17:41,210 - backend.api.server_v7_mcp - INFO - üîç Running startup diagnostics...
[18:17:41] SERVER | 2025-11-13 18:17:41,210 - backend.api.server_v7_mcp - INFO - üöÄ Starting KI AutoAgent v7.0 Pure MCP Server...
[18:17:41] SERVER | 2025-11-13 18:17:41,210 - backend.api.server_v7_mcp - INFO - ‚ö†Ô∏è MCP BLEIBT: Pure MCP Architecture Active!
[18:17:41] SERVER | 2025-11-13 18:17:41,210 - backend.api.server_v7_mcp - INFO - üéØ Architecture: Supervisor Pattern + Pure MCP Protocol
[18:17:41] SERVER | 2025-11-13 18:17:41,210 - backend.api.server_v7_mcp - INFO - üì° WebSocket endpoint: ws://localhost:8002/ws/chat
[18:17:41] SERVER | 2025-11-13 18:17:41,210 - backend.api.server_v7_mcp - INFO - ‚ú® Key Features:
[18:17:41] SERVER | 2025-11-13 18:17:41,210 - backend.api.server_v7_mcp - INFO -    - Single LLM orchestrator (GPT-4o)
[18:17:41] SERVER | 2025-11-13 18:17:41,210 - backend.api.server_v7_mcp - INFO -    - ALL agents as MCP servers (JSON-RPC)
[18:17:41] SERVER | 2025-11-13 18:17:41,210 - backend.api.server_v7_mcp - INFO -    - Progress streaming via $/progress
[18:17:41] SERVER | 2025-11-13 18:17:41,210 - backend.api.server_v7_mcp - INFO -    - Command-based routing
[18:17:41] SERVER | 2025-11-13 18:17:41,210 - backend.api.server_v7_mcp - INFO -    - Research as support agent
[18:17:41] SERVER | 2025-11-13 18:17:41,210 - backend.api.server_v7_mcp - INFO -    - Responder-only user communication
[18:17:41] SERVER | 2025-11-13 18:17:41,210 - backend.api.server_v7_mcp - INFO -    - Dynamic instructions
[18:17:41] SERVER | 2025-11-13 18:17:41,210 - backend.api.server_v7_mcp - INFO - 
[18:17:41] SERVER | 2025-11-13 18:17:41,210 - backend.api.server_v7_mcp - INFO - üìã MCP Servers (will start on first request):
[18:17:41] SERVER | 2025-11-13 18:17:41,210 - backend.api.server_v7_mcp - INFO -    - openai_server.py (OpenAI GPT-4o wrapper)
[18:17:41] SERVER | 2025-11-13 18:17:41,210 - backend.api.server_v7_mcp - INFO -    - research_agent_server.py
[18:17:41] SERVER | 2025-11-13 18:17:41,210 - backend.api.server_v7_mcp - INFO -    - architect_agent_server.py
[18:17:41] SERVER | 2025-11-13 18:17:41,210 - backend.api.server_v7_mcp - INFO -    - codesmith_agent_server.py
[18:17:41] SERVER | 2025-11-13 18:17:41,210 - backend.api.server_v7_mcp - INFO -    - reviewfix_agent_server.py
[18:17:41] SERVER | 2025-11-13 18:17:41,210 - backend.api.server_v7_mcp - INFO -    - responder_agent_server.py
[18:17:41] SERVER | 2025-11-13 18:17:41,210 - backend.api.server_v7_mcp - INFO -    + utility servers (perplexity, memory, etc.)
[18:17:41] SERVER | 2025-11-13 18:17:41,210 - backend.api.server_v7_mcp - INFO - 
[18:17:41] SERVER | 2025-11-13 18:17:41,210 - backend.api.server_v7_mcp - INFO - ‚ö†Ô∏è MCP BLEIBT: NO direct agent instantiation!
[18:17:41] SERVER | 2025-11-13 18:17:41,210 - backend.api.server_v7_mcp - INFO - ‚ö†Ô∏è MCP BLEIBT: All communication via MCPManager!
[18:17:41] SERVER | 
[18:17:41] SERVER | ====================================================================================================
[18:17:41] SERVER | [92m[1m‚úÖ SERVER READY![0m
[18:17:41] SERVER | ====================================================================================================
[18:17:41] SERVER | WebSocket: [96mws://localhost:8002/ws/chat[0m
[18:17:41] SERVER | Health Check: [96mhttp://localhost:8002/health[0m
[18:17:41] SERVER | Full Diagnostics: [96mhttp://localhost:8002/diagnostics[0m
[18:17:41] SERVER | ====================================================================================================
[18:17:41] SERVER | 
[18:17:41] SERVER | INFO:     Application startup complete.
[18:17:41] SERVER | INFO:     Uvicorn running on http://0.0.0.0:8002 (Press CTRL+C to quit)
[18:17:42] SERVER | INFO:     127.0.0.1:56739 - "GET /health HTTP/1.1" 200 OK
[18:17:42] SERVER | INFO:     127.0.0.1:56740 - "WebSocket /ws/chat" [accepted]
[18:17:42] SERVER | 2025-11-13 18:17:42,225 - backend.api.server_v7_mcp - INFO - ‚úÖ Client connected: client_5d484e44
[18:17:42] SERVER | INFO:     connection open
[18:17:42] SERVER | 2025-11-13 18:17:42,228 - backend.api.server_v7_mcp - INFO - üì® Received init from client_5d484e44
[18:17:42] SERVER | 2025-11-13 18:17:42,228 - backend.utils.session_store - INFO - üìù Created session: b7db96c0-99d5-4a46-98f8-d8faecd53ef8 for workspace: /Users/dominikfoert/TestApps/e2e_reviewfix_validation_20251113_181742
[18:17:42] SERVER | 2025-11-13 18:17:42,228 - backend.api.server_v7_mcp - INFO - ‚úÖ Client client_5d484e44 initialized with workspace: /Users/dominikfoert/TestApps/e2e_reviewfix_validation_20251113_181742
[18:17:42] SERVER | 2025-11-13 18:17:42,228 - backend.api.server_v7_mcp - INFO -    Session persisted: b7db96c0-99d5-4a46-98f8-d8faecd53ef8
[18:17:44] SERVER | 2025-11-13 18:17:44,232 - backend.api.server_v7_mcp - INFO - üì® Received chat_message from client_5d484e44
[18:17:46] SERVER | 2025-11-13 18:17:46,235 - backend.api.server_v7_mcp - INFO - üì® Received chat_message from client_5d484e44
[18:17:48] SERVER | 2025-11-13 18:17:48,236 - backend.api.server_v7_mcp - INFO - üì® Received chat_message from client_5d484e44
[18:17:50] SERVER | 2025-11-13 18:17:50,240 - backend.api.server_v7_mcp - INFO - üîå Client client_5d484e44 disconnected
[18:17:50] SERVER | 2025-11-13 18:17:50,240 - backend.api.server_v7_mcp - INFO - ‚ùå Client disconnected: client_5d484e44
[18:17:50] SERVER | INFO:     connection closed
