
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë          üöÄ KI_AutoAgent E2E Testing with FULL WebSocket Logging              ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

üìÅ Project Directory:  /Users/dominikfoert/git/KI_AutoAgent
üìù Server Log:         /Users/dominikfoert/git/KI_AutoAgent/.logs/server_20251113_190353.log
üìù E2E Test Log:       /Users/dominikfoert/git/KI_AutoAgent/.logs/e2e_test_20251113_190353.log

[19:03:53] üõë Cleaning up old processes...
[19:03:55] üé¨ Starting backend server (v7 MCP)...
[19:03:55] ‚úÖ Server started (PID: 70334)
[19:03:56] SERVER | üîÑ Loading environment configuration...
[19:03:56] SERVER | ‚úÖ Loaded API keys from: /Users/dominikfoert/.ki_autoagent/config/.env
[19:03:56] SERVER | 
[19:03:56] SERVER | ====================================================================================================
[19:03:56] SERVER | [1m[96müöÄ KI AutoAgent v7.0 - STARTUP[0m
[19:03:56] SERVER | ====================================================================================================
[19:03:56] SERVER | Started: 2025-11-13 19:03:56
[19:03:56] SERVER | Python: 3.13.9
[19:03:56] SERVER | ====================================================================================================
[19:03:56] SERVER | 
[19:03:56] SERVER | 
[19:03:56] SERVER | [96m[1müîÑ STARTUP SEQUENCE INITIATED[0m
[19:03:56] SERVER | 
[19:03:56] SERVER | [1mStep 1: Checking Python Version...[0m
[19:03:56] SERVER |    ‚úÖ Python 3.13.9
[19:03:56] SERVER | 
[19:03:56] SERVER | [1mStep 2: Checking Environment...[0m
[19:03:56] SERVER |    ‚úÖ Environment file: /Users/dominikfoert/.ki_autoagent/config/.env
[19:03:56] SERVER | 
[19:03:56] SERVER | [1mStep 3: Checking Dependencies...[0m
[19:03:56] SERVER |    ‚úÖ fastapi
[19:03:56] SERVER |    ‚úÖ uvicorn
[19:03:56] SERVER |    ‚úÖ websockets
[19:03:56] SERVER |    ‚úÖ langgraph
[19:03:57] SERVER |    ‚úÖ langchain_openai
[19:03:57] SERVER |    ‚úÖ pydantic
[19:03:57] SERVER | 
[19:03:57] SERVER | [1mStep 4: Checking Port 8002...[0m
[19:03:57] SERVER | 
[19:03:57] SERVER | [96m[1müîç PORT STATUS[0m
[19:03:57] SERVER |    Host: localhost
[19:03:57] SERVER |    Port: 8002
[19:03:57] SERVER |    Status: [91m‚ùå IN USE[0m
[19:03:57] SERVER |    PID: 67751
[19:03:57] SERVER |    Process: /opt/homebrew/Cellar/python@3.13/3.13.9_1/Frameworks/Python.framework/Versions/3.13/Resources/Python.app/Contents/MacOS/Python
[19:03:57] SERVER | 
[19:03:57] SERVER | [1mStep 5: Cleaning up port if needed...[0m
[19:03:57] SERVER | 2025-11-13 19:03:57,209 - backend.utils.port_manager - WARNING - ‚ö†Ô∏è Port 8002 is in use
[19:03:57] SERVER | 
[19:03:57] SERVER | [93m[1müîÑ CLEANING UP EXISTING SERVER[0m
[19:03:57] SERVER |    Found process using port 8002:
[19:03:57] SERVER |    ‚Ä¢ PID: 67751
[19:03:57] SERVER |    ‚Ä¢ Command: /opt/homebrew/Cellar/python@3.13/3.13.9_1/Frameworks/Python.framework/Versions/3.13/Resources/Python.app/Contents/MacOS/Python
[19:03:57] SERVER |    ‚Ä¢ Status: running
[19:03:57] SERVER | 2025-11-13 19:03:57,350 - backend.utils.port_manager - INFO -    Sending SIGTERM to PID 67751...
[19:03:57] SERVER | 2025-11-13 19:03:57,558 - backend.utils.port_manager - INFO -    ‚úÖ Process 67751 terminated gracefully
[19:03:58] SERVER |    ‚úÖ Port 8002 is now available
[19:03:58] SERVER | 
[19:03:58] SERVER |    ‚úÖ Port 8002 is available
[19:03:58] SERVER | 
[19:03:58] SERVER | [1mStep 6: Running Full Diagnostics...[0m
[19:03:58] SERVER | 
[19:03:58] SERVER | [1mStep 7: Checking for Deprecated Modules...[0m
[19:03:58] SERVER |    ‚ÑπÔ∏è  12 deprecated modules registered
[19:03:58] SERVER |       ‚Ä¢ CRITICAL: 3 (blocks startup if loaded)
[19:03:58] SERVER |       ‚Ä¢ ERROR:    5 (warns loudly)
[19:03:58] SERVER |       ‚Ä¢ WARNING:  4 (informational)
[19:03:58] SERVER | 2025-11-13 19:03:58,062 - backend.deprecation.validator - INFO - ‚úÖ Import deprecation hook installed
[19:03:58] SERVER |    ‚úÖ Import deprecation hook installed
[19:03:58] SERVER | 
[19:03:58] SERVER | [92m[1m‚úÖ ALL CHECKS PASSED - READY TO START SERVER[0m
[19:03:58] SERVER | 
[19:03:58] SERVER | [96m[1müöÄ STARTING SERVER...[0m
[19:03:58] SERVER | 
[19:03:58] SERVER |     WebSocket: ws://localhost:8002/ws/chat
[19:03:58] SERVER |     Health Check: http://localhost:8002/health
[19:03:58] SERVER |     Diagnostics: http://localhost:8002/diagnostics
[19:03:58] SERVER | 
[19:03:58] SERVER | 2025-11-13 19:03:58,193 - faiss.loader - INFO - Loading faiss.
[19:03:58] SERVER | 2025-11-13 19:03:58,207 - faiss.loader - INFO - Successfully loaded faiss.
[19:03:58] SERVER | 2025-11-13 19:03:58,222 - backend.api.server_v7_mcp - INFO - ‚ö° uvloop ENABLED: Event loop performance boosted
[19:03:58] SERVER | 2025-11-13 19:03:58,222 - backend.api.server_v7_mcp - INFO - ‚úÖ Loaded API keys from: /Users/dominikfoert/.ki_autoagent/config/.env
[19:03:58] SERVER | 2025-11-13 19:03:58,222 - backend.utils.api_validator - INFO - üîë Validating API keys...
[19:03:58] ‚è≥ Waiting for server to be ready...
.[19:03:59] SERVER | 2025-11-13 19:03:59,064 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
[19:03:59] SERVER | 2025-11-13 19:03:59,067 - backend.utils.api_validator - INFO - ‚úÖ OPENAI_API_KEY: Valid
[19:03:59] SERVER | 2025-11-13 19:03:59,248 - backend.utils.api_validator - WARNING - ‚ö†Ô∏è PERPLEXITY_API_KEY: Connectivity uncertain (HTTP 405)
[19:03:59] SERVER | 2025-11-13 19:03:59,248 - backend.utils.api_validator - WARNING -    Will attempt to use the key anyway
[19:03:59] SERVER | 2025-11-13 19:03:59,249 - backend.utils.api_validator - INFO - üîë API key validation complete
[19:03:59] SERVER | 2025-11-13 19:03:59,249 - backend.api.server_v7_mcp - INFO - üîí Workspace Isolation Enabled - Server Root: /Users/dominikfoert/git/KI_AutoAgent
[19:03:59] SERVER | 2025-11-13 19:03:59,249 - backend.api.server_v7_mcp - INFO - ‚ö†Ô∏è MCP BLEIBT: Pure MCP architecture - agents are MCP servers!
[19:03:59] SERVER | 2025-11-13 19:03:59,249 - backend.api.server_v7_mcp - INFO -    NO AI Factory initialization needed
[19:03:59] SERVER | 2025-11-13 19:03:59,249 - backend.api.server_v7_mcp - INFO -    All agents run as separate MCP server processes
[19:03:59] SERVER | 2025-11-13 19:03:59,249 - backend.api.server_v7_mcp - INFO -    Communication via JSON-RPC over stdin/stdout
[19:03:59] SERVER | 2025-11-13 19:03:59,249 - backend.api.server_v7_mcp - INFO -    MCPManager will start all agents on first workflow execution
[19:03:59] SERVER | 2025-11-13 19:03:59,250 - backend.utils.session_store - INFO - üßπ Cleaned up 2 expired sessions
[19:03:59] SERVER | 2025-11-13 19:03:59,250 - backend.utils.session_store - INFO - ‚úÖ Loaded 4 sessions from /Users/dominikfoert/.ki_autoagent/sessions/sessions.json
[19:03:59] SERVER | 2025-11-13 19:03:59,250 - backend.utils.session_store - INFO -    Removed 2 expired sessions
[19:03:59] SERVER | 2025-11-13 19:03:59,250 - backend.api.server_v7_mcp - INFO - ‚úÖ Session store initialized: 4 existing sessions
[19:03:59] SERVER | INFO:     Started server process [70333]
[19:03:59] SERVER | INFO:     Waiting for application startup.
[19:03:59] SERVER | 
[19:03:59] SERVER | ====================================================================================================
[19:03:59] SERVER | [1m[96müöÄ KI AutoAgent v7.0 - STARTUP[0m
[19:03:59] SERVER | ====================================================================================================
[19:03:59] SERVER | Started: 2025-11-13 19:03:59
[19:03:59] SERVER | Python: 3.13.9
[19:03:59] SERVER | ====================================================================================================
[19:03:59] SERVER | 
[19:03:59] SERVER | 2025-11-13 19:03:59,314 - backend.api.server_v7_mcp - INFO - üîç Checking server port...
[19:03:59] SERVER | 
[19:03:59] SERVER | [96m[1müîç PORT STATUS[0m
[19:03:59] SERVER |    Host: localhost
[19:03:59] SERVER |    Port: 8002
[19:03:59] SERVER |    Status: [92m‚úÖ AVAILABLE[0m
[19:03:59] SERVER | 
[19:03:59] SERVER | 2025-11-13 19:03:59,315 - backend.api.server_v7_mcp - INFO - üîç Running startup diagnostics...
[19:03:59] SERVER | 2025-11-13 19:03:59,316 - backend.api.server_v7_mcp - INFO - üöÄ Starting KI AutoAgent v7.0 Pure MCP Server...
[19:03:59] SERVER | 2025-11-13 19:03:59,316 - backend.api.server_v7_mcp - INFO - ‚ö†Ô∏è MCP BLEIBT: Pure MCP Architecture Active!
[19:03:59] SERVER | 2025-11-13 19:03:59,316 - backend.api.server_v7_mcp - INFO - üéØ Architecture: Supervisor Pattern + Pure MCP Protocol
[19:03:59] SERVER | 2025-11-13 19:03:59,316 - backend.api.server_v7_mcp - INFO - üì° WebSocket endpoint: ws://localhost:8002/ws/chat
[19:03:59] SERVER | 2025-11-13 19:03:59,316 - backend.api.server_v7_mcp - INFO - ‚ú® Key Features:
[19:03:59] SERVER | 2025-11-13 19:03:59,316 - backend.api.server_v7_mcp - INFO -    - Single LLM orchestrator (GPT-4o)
[19:03:59] SERVER | 2025-11-13 19:03:59,316 - backend.api.server_v7_mcp - INFO -    - ALL agents as MCP servers (JSON-RPC)
[19:03:59] SERVER | 2025-11-13 19:03:59,316 - backend.api.server_v7_mcp - INFO -    - Progress streaming via $/progress
[19:03:59] SERVER | 2025-11-13 19:03:59,316 - backend.api.server_v7_mcp - INFO -    - Command-based routing
[19:03:59] SERVER | 2025-11-13 19:03:59,316 - backend.api.server_v7_mcp - INFO -    - Research as support agent
[19:03:59] SERVER | 2025-11-13 19:03:59,316 - backend.api.server_v7_mcp - INFO -    - Responder-only user communication
[19:03:59] SERVER | 2025-11-13 19:03:59,316 - backend.api.server_v7_mcp - INFO -    - Dynamic instructions
[19:03:59] SERVER | 2025-11-13 19:03:59,316 - backend.api.server_v7_mcp - INFO - 
[19:03:59] SERVER | 2025-11-13 19:03:59,316 - backend.api.server_v7_mcp - INFO - üìã MCP Servers (will start on first request):
[19:03:59] SERVER | 2025-11-13 19:03:59,316 - backend.api.server_v7_mcp - INFO -    - openai_server.py (OpenAI GPT-4o wrapper)
[19:03:59] SERVER | 2025-11-13 19:03:59,316 - backend.api.server_v7_mcp - INFO -    - research_agent_server.py
[19:03:59] SERVER | 2025-11-13 19:03:59,316 - backend.api.server_v7_mcp - INFO -    - architect_agent_server.py
[19:03:59] SERVER | 2025-11-13 19:03:59,316 - backend.api.server_v7_mcp - INFO -    - codesmith_agent_server.py
[19:03:59] SERVER | 2025-11-13 19:03:59,316 - backend.api.server_v7_mcp - INFO -    - reviewfix_agent_server.py
[19:03:59] SERVER | 2025-11-13 19:03:59,316 - backend.api.server_v7_mcp - INFO -    - responder_agent_server.py
[19:03:59] SERVER | 2025-11-13 19:03:59,316 - backend.api.server_v7_mcp - INFO -    + utility servers (perplexity, memory, etc.)
[19:03:59] SERVER | 2025-11-13 19:03:59,316 - backend.api.server_v7_mcp - INFO - 
[19:03:59] SERVER | 2025-11-13 19:03:59,316 - backend.api.server_v7_mcp - INFO - ‚ö†Ô∏è MCP BLEIBT: NO direct agent instantiation!
[19:03:59] SERVER | 2025-11-13 19:03:59,316 - backend.api.server_v7_mcp - INFO - ‚ö†Ô∏è MCP BLEIBT: All communication via MCPManager!
[19:03:59] SERVER | 
[19:03:59] SERVER | ====================================================================================================
[19:03:59] SERVER | [92m[1m‚úÖ SERVER READY![0m
[19:03:59] SERVER | ====================================================================================================
[19:03:59] SERVER | WebSocket: [96mws://localhost:8002/ws/chat[0m
[19:03:59] SERVER | Health Check: [96mhttp://localhost:8002/health[0m
[19:03:59] SERVER | Full Diagnostics: [96mhttp://localhost:8002/diagnostics[0m
[19:03:59] SERVER | ====================================================================================================
[19:03:59] SERVER | 
[19:03:59] SERVER | INFO:     Application startup complete.
[19:03:59] SERVER | INFO:     Uvicorn running on http://0.0.0.0:8002 (Press CTRL+C to quit)
[19:04:00] SERVER | INFO:     127.0.0.1:56978 - "GET /health HTTP/1.1" 200 OK
[19:04:00] ‚úÖ Server is READY and listening!


[19:04:00] üß™ Starting E2E Test Suite...
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

19:04:00.101 | DEBUG    | Using selector: KqueueSelector
19:04:00.101 | INFO     | 
üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ 
19:04:00.101 | INFO     | KI_AutoAgent E2E Test Suite - ReviewFix Validation
19:04:00.101 | INFO     | üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ üöÄ 
19:04:00.101 | INFO     | 
üìÅ Test Workspace: /Users/dominikfoert/TestApps/e2e_reviewfix_validation_20251113_190400
19:04:00.101 | INFO     | üìù Main Log: /Users/dominikfoert/TestApps/e2e_reviewfix_validation_20251113_190400/logs/e2e_main_20251113_190400.log
19:04:00.102 | INFO     | üì§ WebSocket Send Log: /Users/dominikfoert/TestApps/e2e_reviewfix_validation_20251113_190400/logs/websocket_send_20251113_190400.log
19:04:00.102 | INFO     | üì• WebSocket Recv Log: /Users/dominikfoert/TestApps/e2e_reviewfix_validation_20251113_190400/logs/websocket_recv_20251113_190400.log
19:04:00.102 | INFO     | üìä WebSocket Combined Log: /Users/dominikfoert/TestApps/e2e_reviewfix_validation_20251113_190400/logs/websocket_both_20251113_190400.log

19:04:00.102 | INFO     | 
================================================================================
19:04:00.102 | INFO     | PHASE 1: Environment Setup
19:04:00.102 | INFO     | ================================================================================
19:04:00.102 | INFO     |   Removing old workspace: /Users/dominikfoert/TestApps/e2e_reviewfix_validation_20251113_190400
19:04:00.102 | INFO     |   ‚úÖ Created workspace: /Users/dominikfoert/TestApps/e2e_reviewfix_validation_20251113_190400
19:04:00.102 | INFO     | ‚úÖ Phase 'Environment Setup' complete (elapsed: 0.0s)
19:04:00.102 | INFO     | 
================================================================================
19:04:00.102 | INFO     | PHASE 2: Backend Connection
19:04:00.102 | INFO     | ================================================================================
19:04:00.102 | INFO     |   Connecting to ws://localhost:8002/ws/chat...
19:04:00.108 | DEBUG    | = connection is CONNECTING
19:04:00.109 | DEBUG    | > GET /ws/chat HTTP/1.1
19:04:00.109 | DEBUG    | > Host: localhost:8002
19:04:00.109 | DEBUG    | > Upgrade: websocket
19:04:00.109 | DEBUG    | > Connection: Upgrade
19:04:00.109 | DEBUG    | > Sec-WebSocket-Key: DZ0TDaC4uUqEU4rEREpvbA==
19:04:00.109 | DEBUG    | > Sec-WebSocket-Version: 13
19:04:00.109 | DEBUG    | > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
19:04:00.109 | DEBUG    | > User-Agent: Python/3.13 websockets/13.1
19:04:00.111 | DEBUG    | < HTTP/1.1 101 Switching Protocols
19:04:00.111 | DEBUG    | < Upgrade: websocket
19:04:00.111 | DEBUG    | < Connection: Upgrade
19:04:00.111 | DEBUG    | < Sec-WebSocket-Accept: JHkAV4bVmGOtHCpEgINlRRiBn34=
19:04:00.111 | DEBUG    | < Sec-WebSocket-Extensions: permessage-deflate
19:04:00.111 | DEBUG    | < date: Thu, 13 Nov 2025 18:03:59 GMT
19:04:00.111 | DEBUG    | < server: uvicorn
19:04:00.111 | DEBUG    | = connection is OPEN
19:04:00.111 | DEBUG    | < TEXT '{"type":"connected","message":"‚ö†Ô∏è MCP BLEIBT: C...","requires_init":true}' [346 bytes]
19:04:00.112 | INFO     | üì• RECEIVED: connected
19:04:00.112 | INFO     |   ‚úÖ Connected! Session ID: None
19:04:00.112 | INFO     | ‚úÖ Phase 'Backend Connection' complete (elapsed: 0.0s)
19:04:00.112 | INFO     | 
================================================================================
19:04:00.112 | INFO     | PHASE 3: Workspace Initialization
19:04:00.112 | INFO     | ================================================================================
19:04:00.112 | INFO     | üì§ SENT message #1: init
19:04:00.112 | DEBUG    | > TEXT '{"type": "init", "workspace_path": "/Users/domi...ation_20251113_190400"}' [107 bytes]
[19:04:00] SERVER | INFO:     127.0.0.1:56979 - "WebSocket /ws/chat" [accepted]
19:04:00.113 | DEBUG    | < TEXT '{"type":"initialized","session_id":"5cf3e5e2-7a...sponder (MCP)","hitl"]}' [591 bytes]
19:04:00.114 | INFO     | üì• RECEIVED: initialized
[19:04:00] SERVER | 2025-11-13 19:04:00,110 - backend.api.server_v7_mcp - INFO - ‚úÖ Client connected: client_562cedce
[19:04:00] SERVER | INFO:     connection open
[19:04:00] SERVER | 2025-11-13 19:04:00,113 - backend.api.server_v7_mcp - INFO - üì® Received init from client_562cedce
[19:04:00] SERVER | 2025-11-13 19:04:00,113 - backend.utils.session_store - INFO - üìù Created session: 5cf3e5e2-7adc-4aa7-ba5d-ec37d25cf887 for workspace: /Users/dominikfoert/TestApps/e2e_reviewfix_validation_20251113_190400
[19:04:00] SERVER | 2025-11-13 19:04:00,113 - backend.api.server_v7_mcp - INFO - ‚úÖ Client client_562cedce initialized with workspace: /Users/dominikfoert/TestApps/e2e_reviewfix_validation_20251113_190400
[19:04:00] SERVER | 2025-11-13 19:04:00,113 - backend.api.server_v7_mcp - INFO -    Session persisted: 5cf3e5e2-7adc-4aa7-ba5d-ec37d25cf887
19:04:02.115 | WARNING  | ‚è±Ô∏è Receive timeout after 10.0s
19:04:02.115 | INFO     |   ‚úÖ Workspace initialized with 1 response messages
19:04:02.115 | INFO     | ‚úÖ Phase 'Workspace Init' complete (elapsed: 2.0s)
19:04:02.115 | INFO     | 
================================================================================
19:04:02.115 | INFO     | PHASE 4: Simple Query
19:04:02.115 | INFO     | ================================================================================
19:04:02.116 | INFO     | üì§ SENT message #2: chat
19:04:02.116 | DEBUG    | > TEXT '{"type": "chat", "message": "Create a simple ca...that adds two numbers"}' [83 bytes]
19:04:02.116 | INFO     |   ‚è≥ Waiting for workflow execution...
19:04:02.120 | DEBUG    | < TEXT '{"type":"status","status":"analyzing","message"... analyzing request..."}' [87 bytes]
[19:04:02] SERVER | 2025-11-13 19:04:02,116 - backend.api.server_v7_mcp - INFO - üì® Received chat from client_562cedce
19:04:02.120 | INFO     | üì• RECEIVED: status
[19:04:02] SERVER | 2025-11-13 19:04:02,116 - backend.api.server_v7_mcp - INFO - üîç DEBUG: Entering chat message handler
[19:04:02] SERVER | 2025-11-13 19:04:02,116 - backend.api.server_v7_mcp - INFO - üîç DEBUG: user_query extracted: Create a simple calculator app that adds two numbe
[19:04:02] SERVER | 2025-11-13 19:04:02,116 - backend.api.server_v7_mcp - INFO - üîç DEBUG: Before persisting user message
[19:04:02] SERVER | 2025-11-13 19:04:02,117 - backend.api.server_v7_mcp - INFO - üîç DEBUG: User message persisted
[19:04:02] SERVER | 2025-11-13 19:04:02,117 - backend.api.server_v7_mcp - INFO - üîç DEBUG: Before sending analyzing status
[19:04:02] SERVER | 2025-11-13 19:04:02,117 - backend.api.server_v7_mcp - INFO - üîç DEBUG: Analyzing status sent
[19:04:02] SERVER | 2025-11-13 19:04:02,117 - backend.api.server_v7_mcp - INFO - üîç DEBUG: About to enter try block for workflow execution...
[19:04:02] SERVER | 2025-11-13 19:04:02,117 - backend.api.server_v7_mcp - INFO - üîç DEBUG: Inside try block
[19:04:02] SERVER | 2025-11-13 19:04:02,117 - backend.api.server_v7_mcp - INFO - üöÄ Running v7.0 Pure MCP workflow for: Create a simple calculator app that adds two numbers...
[19:04:02] SERVER | 2025-11-13 19:04:02,117 - backend.api.server_v7_mcp - INFO - ‚ö†Ô∏è MCP BLEIBT: All agents will execute via MCP protocol!
[19:04:02] SERVER | 2025-11-13 19:04:02,117 - backend.api.server_v7_mcp - INFO -    Workspace: /Users/dominikfoert/TestApps/e2e_reviewfix_validation_20251113_190400
[19:04:02] SERVER | 2025-11-13 19:04:02,117 - backend.api.server_v7_mcp - INFO -    Session ID: 5cf3e5e2-7adc-4aa7-ba5d-ec37d25cf887
[19:04:02] SERVER | 2025-11-13 19:04:02,117 - backend.api.server_v7_mcp - INFO -    Client ID: client_562cedce
[19:04:02] SERVER | 2025-11-13 19:04:02,117 - backend.api.server_v7_mcp - INFO - üîç DEBUG: Importing workflow module...
[19:04:02] SERVER | 2025-11-13 19:04:02,117 - backend.api.server_v7_mcp - INFO - ‚úÖ DEBUG: Workflow module imported successfully
[19:04:02] SERVER | 2025-11-13 19:04:02,117 - backend.api.server_v7_mcp - INFO - üîç DEBUG: Calling execute_supervisor_workflow_streaming_mcp...
[19:04:02] SERVER | 2025-11-13 19:04:02,117 - backend.workflow_v7_mcp - INFO - ============================================================
[19:04:02] SERVER | 2025-11-13 19:04:02,117 - backend.workflow_v7_mcp - INFO - üöÄ EXECUTING SUPERVISOR WORKFLOW v7.0 (PURE MCP + STREAMING)
[19:04:02] SERVER | 2025-11-13 19:04:02,117 - backend.workflow_v7_mcp - INFO - ============================================================
[19:04:02] SERVER | 2025-11-13 19:04:02,117 - backend.workflow_v7_mcp - INFO - Query: Create a simple calculator app that adds two numbers
[19:04:02] SERVER | 2025-11-13 19:04:02,117 - backend.workflow_v7_mcp - INFO - Workspace: /Users/dominikfoert/TestApps/e2e_reviewfix_validation_20251113_190400
[19:04:02] SERVER | 2025-11-13 19:04:02,117 - backend.workflow_v7_mcp - INFO - ‚ö†Ô∏è MCP BLEIBT: All agents execute via MCP protocol!
[19:04:02] SERVER | 2025-11-13 19:04:02,117 - backend.workflow_v7_mcp - INFO - üîç DEBUG: Step 1 - Importing event_stream...
[19:04:02] SERVER | 2025-11-13 19:04:02,119 - backend.utils.event_stream - INFO - ‚úÖ EventStreamManager initialized
[19:04:02] SERVER | 2025-11-13 19:04:02,119 - backend.workflow_v7_mcp - INFO - üîç DEBUG: Step 2 - Getting event_manager...
[19:04:02] SERVER | 2025-11-13 19:04:02,119 - backend.workflow_v7_mcp - INFO - ‚úÖ DEBUG: Event manager obtained
[19:04:02] SERVER | 2025-11-13 19:04:02,119 - backend.workflow_v7_mcp - INFO - üîç DEBUG: Step 3 - Getting MCP manager...
[19:04:02] SERVER | 2025-11-13 19:04:02,119 - backend.utils.mcp_manager - INFO - ‚ö†Ô∏è MCP BLEIBT: Creating global MCPManager instance
[19:04:02] SERVER | 2025-11-13 19:04:02,119 - backend.utils.mcp_manager - INFO - üîç DEBUG: MCPManager.__init__ called with workspace_path=/Users/dominikfoert/TestApps/e2e_reviewfix_validation_20251113_190400
[19:04:02] SERVER | 2025-11-13 19:04:02,119 - backend.utils.mcp_manager - INFO - üì° MCPManager created for workspace: /Users/dominikfoert/TestApps/e2e_reviewfix_validation_20251113_190400
[19:04:02] SERVER | 2025-11-13 19:04:02,119 - backend.utils.mcp_manager - INFO -    Servers to connect: 12
[19:04:02] SERVER | 2025-11-13 19:04:02,119 - backend.workflow_v7_mcp - INFO - ‚úÖ DEBUG: MCP manager obtained
[19:04:02] SERVER | 2025-11-13 19:04:02,119 - backend.workflow_v7_mcp - INFO - üîç DEBUG: Step 4 - Initializing MCP connections...
[19:04:02] SERVER | 2025-11-13 19:04:02,119 - backend.workflow_v7_mcp - INFO - üì° Initializing MCP connections...
[19:04:02] SERVER | 2025-11-13 19:04:02,119 - backend.utils.mcp_manager - INFO - üîç DEBUG: MCPManager.initialize() called
[19:04:02] SERVER | 2025-11-13 19:04:02,119 - backend.utils.mcp_manager - INFO - üöÄ Initializing MCP connections...
[19:04:02] SERVER | 2025-11-13 19:04:02,120 - backend.utils.mcp_manager - INFO - ‚ö†Ô∏è MCP BLEIBT: Starting Pure MCP v7.0 agent servers...
[19:04:02] SERVER | 2025-11-13 19:04:02,120 - backend.utils.mcp_manager - INFO - üîç DEBUG: Connecting to 12 servers: ['openai', 'research_agent', 'architect_agent']...
[19:04:02] SERVER | 2025-11-13 19:04:02,120 - backend.utils.mcp_manager - INFO - üîç DEBUG: Created 12 connection tasks
[19:04:02] SERVER | 2025-11-13 19:04:02,120 - backend.utils.mcp_manager - INFO -    üìù Server will log to: /tmp/mcp_openai.log
[19:04:02] SERVER | 2025-11-13 19:04:02,120 - backend.utils.mcp_manager - INFO -    üìù Server will log to: /tmp/mcp_research_agent.log
[19:04:02] SERVER | 2025-11-13 19:04:02,121 - backend.utils.mcp_manager - INFO -    üìù Server will log to: /tmp/mcp_architect_agent.log
[19:04:02] SERVER | 2025-11-13 19:04:02,121 - backend.utils.mcp_manager - INFO -    üìù Server will log to: /tmp/mcp_codesmith_agent.log
[19:04:02] SERVER | 2025-11-13 19:04:02,122 - backend.utils.mcp_manager - INFO -    üìù Server will log to: /tmp/mcp_reviewfix_agent.log
[19:04:02] SERVER | 2025-11-13 19:04:02,122 - backend.utils.mcp_manager - INFO -    üìù Server will log to: /tmp/mcp_responder_agent.log
[19:04:02] SERVER | 2025-11-13 19:04:02,123 - backend.utils.mcp_manager - INFO -    üìù Server will log to: /tmp/mcp_claude_cli.log
[19:04:02] SERVER | 2025-11-13 19:04:02,123 - backend.utils.mcp_manager - INFO -    üìù Server will log to: /tmp/mcp_perplexity.log
[19:04:02] SERVER | 2025-11-13 19:04:02,126 - backend.utils.mcp_manager - INFO -    üìù Server will log to: /tmp/mcp_memory.log
[19:04:02] SERVER | 2025-11-13 19:04:02,128 - backend.utils.mcp_manager - INFO -    üìù Server will log to: /tmp/mcp_build_validation.log
[19:04:02] SERVER | 2025-11-13 19:04:02,129 - backend.utils.mcp_manager - INFO -    üìù Server will log to: /tmp/mcp_file_tools.log
[19:04:02] SERVER | 2025-11-13 19:04:02,129 - backend.utils.mcp_manager - INFO -    üìù Server will log to: /tmp/mcp_tree_sitter.log
19:04:04.122 | WARNING  | ‚è±Ô∏è Receive timeout after 120.0s
19:04:04.122 | INFO     |   ‚úÖ Query processed with 1 messages
19:04:04.122 | INFO     |   üìä Agents invoked: set()
19:04:04.122 | INFO     | ‚úÖ Phase 'Simple Query' complete (elapsed: 4.0s)
19:04:04.122 | INFO     | 
================================================================================
19:04:04.122 | INFO     | PHASE 5: Code Generation
19:04:04.122 | INFO     | ================================================================================
19:04:04.123 | INFO     | üì§ SENT message #3: chat
19:04:04.123 | DEBUG    | > TEXT '{"type": "chat", "message": "Add a multiply function to the calculator"}' [72 bytes]
19:04:04.123 | INFO     |   ‚è≥ Waiting for code generation...
[19:04:04] SERVER | 2025-11-13 19:04:04,316 - backend.utils.mcp_manager - INFO - üîç DEBUG: Connection results received
[19:04:04] SERVER | 2025-11-13 19:04:04,316 - backend.utils.mcp_manager - INFO - ‚úÖ Connected to openai
[19:04:04] SERVER | 2025-11-13 19:04:04,316 - backend.utils.mcp_manager - INFO - ‚úÖ Connected to research_agent
[19:04:04] SERVER | 2025-11-13 19:04:04,316 - backend.utils.mcp_manager - INFO - ‚úÖ Connected to architect_agent
[19:04:04] SERVER | 2025-11-13 19:04:04,316 - backend.utils.mcp_manager - INFO - ‚úÖ Connected to codesmith_agent
[19:04:04] SERVER | 2025-11-13 19:04:04,316 - backend.utils.mcp_manager - INFO - ‚úÖ Connected to reviewfix_agent
[19:04:04] SERVER | 2025-11-13 19:04:04,316 - backend.utils.mcp_manager - INFO - ‚úÖ Connected to responder_agent
[19:04:04] SERVER | 2025-11-13 19:04:04,316 - backend.utils.mcp_manager - INFO - ‚úÖ Connected to claude_cli
[19:04:04] SERVER | 2025-11-13 19:04:04,316 - backend.utils.mcp_manager - INFO - ‚úÖ Connected to perplexity
[19:04:04] SERVER | 2025-11-13 19:04:04,316 - backend.utils.mcp_manager - INFO - ‚úÖ Connected to memory
[19:04:04] SERVER | 2025-11-13 19:04:04,316 - backend.utils.mcp_manager - INFO - ‚úÖ Connected to build_validation
[19:04:04] SERVER | 2025-11-13 19:04:04,316 - backend.utils.mcp_manager - INFO - ‚úÖ Connected to file_tools
[19:04:04] SERVER | 2025-11-13 19:04:04,316 - backend.utils.mcp_manager - INFO - ‚úÖ Connected to tree_sitter
19:04:04.360 | DEBUG    | < TEXT '{"type":"agent_event","agent":"supervisor","eve...11-13T19:04:04.351527"}' [247 bytes]
19:04:04.360 | INFO     | üì• RECEIVED: agent_event
[19:04:04] SERVER | 2025-11-13 19:04:04,316 - backend.utils.mcp_manager - INFO - ‚úÖ All 12 MCP servers connected
[19:04:04] SERVER | 2025-11-13 19:04:04,317 - backend.utils.mcp_manager - INFO - ‚ö†Ô∏è MCP BLEIBT: Pure MCP architecture active!
[19:04:04] SERVER | 2025-11-13 19:04:04,317 - backend.workflow_v7_mcp - INFO - ‚úÖ DEBUG: MCP connections initialized
[19:04:04] SERVER | 2025-11-13 19:04:04,317 - backend.workflow_v7_mcp - INFO - ‚úÖ All MCP servers connected
[19:04:04] SERVER | 2025-11-13 19:04:04,317 - backend.workflow_v7_mcp - INFO - üîç DEBUG: Step 5 - Building workflow graph...
[19:04:04] SERVER | 2025-11-13 19:04:04,317 - backend.workflow_v7_mcp - INFO - üèóÔ∏è Building Supervisor Workflow v7.0 (PURE MCP)
[19:04:04] SERVER | 2025-11-13 19:04:04,317 - backend.workflow_v7_mcp - INFO - ‚ö†Ô∏è MCP BLEIBT: All agents are MCP servers!
[19:04:04] SERVER | 2025-11-13 19:04:04,320 - backend.workflow_v7_mcp - INFO -    ‚úÖ Graph structure:
[19:04:04] SERVER | 2025-11-13 19:04:04,320 - backend.workflow_v7_mcp - INFO -       START ‚Üí supervisor
[19:04:04] SERVER | 2025-11-13 19:04:04,320 - backend.workflow_v7_mcp - INFO -       supervisor ‚Üí [research, architect, codesmith, reviewfix, responder, hitl, END] (via Command)
[19:04:04] SERVER | 2025-11-13 19:04:04,320 - backend.workflow_v7_mcp - INFO -       [all agents] ‚Üí supervisor (via conditional edge)
[19:04:04] SERVER | 2025-11-13 19:04:04,321 - backend.workflow_v7_mcp - INFO -    ‚ö†Ô∏è MCP BLEIBT: All agent nodes use mcp.call()!
[19:04:04] SERVER | 2025-11-13 19:04:04,344 - backend.workflow_v7_mcp - INFO -    ‚úÖ Workflow compiled successfully
[19:04:04] SERVER | 2025-11-13 19:04:04,344 - backend.workflow_v7_mcp - INFO -    üìä Recursion limit: 25 (LangGraph default)
[19:04:04] SERVER | 2025-11-13 19:04:04,344 - backend.workflow_v7_mcp - INFO -    ‚ö†Ô∏è MCP BLEIBT: Pure MCP architecture active!
[19:04:04] SERVER | 2025-11-13 19:04:04,344 - backend.workflow_v7_mcp - INFO - ‚úÖ DEBUG: Workflow graph built
[19:04:04] SERVER | 2025-11-13 19:04:04,344 - backend.workflow_v7_mcp - INFO - üîç DEBUG: Step 6 - Initializing state...
[19:04:04] SERVER | 2025-11-13 19:04:04,344 - backend.workflow_v7_mcp - INFO -    üìä Recursion limit set to: 200 (production - real workflows)
[19:04:04] SERVER | 2025-11-13 19:04:04,344 - backend.workflow_v7_mcp - INFO - üîç DEBUG: Step 7 - Starting workflow execution...
[19:04:04] SERVER | 2025-11-13 19:04:04,344 - backend.workflow_v7_mcp - INFO - 
[19:04:04] SERVER | üìä Starting workflow execution with streaming...
[19:04:04] SERVER | 2025-11-13 19:04:04,344 - backend.workflow_v7_mcp - INFO - üîç DEBUG: Step 8 - Subscribing to event stream...
[19:04:04] SERVER | 2025-11-13 19:04:04,344 - backend.utils.event_stream - INFO -    üì° New subscriber: 5cf3e5e2-7adc-4aa7-ba5d-ec37d25cf887
[19:04:04] SERVER | 2025-11-13 19:04:04,344 - backend.workflow_v7_mcp - INFO - ‚úÖ DEBUG: Subscribed to event stream
[19:04:04] SERVER | 2025-11-13 19:04:04,344 - backend.workflow_v7_mcp - INFO - üîç DEBUG: Step 9 - Creating workflow streaming task...
[19:04:04] SERVER | 2025-11-13 19:04:04,344 - backend.workflow_v7_mcp - INFO - ‚úÖ DEBUG: Workflow task created
[19:04:04] SERVER | 2025-11-13 19:04:04,344 - backend.workflow_v7_mcp - INFO - üîç DEBUG: Step 10 - Getting credit tracker...
[19:04:04] SERVER | 2025-11-13 19:04:04,346 - backend.utils.credit_tracker - WARNING - üí∞ CREDIT TRACKER INITIALIZED
[19:04:04] SERVER | 2025-11-13 19:04:04,346 - backend.utils.credit_tracker - WARNING -    Max per session: $5.00
[19:04:04] SERVER | 2025-11-13 19:04:04,346 - backend.utils.credit_tracker - WARNING -    Max per hour: $10.00
[19:04:04] SERVER | 2025-11-13 19:04:04,346 - backend.utils.credit_tracker - WARNING -    Max per day: $50.00
[19:04:04] SERVER | 2025-11-13 19:04:04,346 - backend.utils.credit_tracker - WARNING -    EMERGENCY STOP: $100.00
[19:04:04] SERVER | 2025-11-13 19:04:04,346 - backend.workflow_v7_mcp - INFO - ‚úÖ DEBUG: Credit tracker ready
[19:04:04] SERVER | 2025-11-13 19:04:04,346 - backend.workflow_v7_mcp - INFO - üîç DEBUG: Step 11 - Starting main event loop...
[19:04:04] SERVER | 2025-11-13 19:04:04,346 - backend.workflow_v7_mcp - INFO - üîç DEBUG: Inside stream_workflow_events - Starting app.astream...
[19:04:04] SERVER | 2025-11-13 19:04:04,350 - backend.workflow_v7_mcp - INFO - ==================================================
[19:04:04] SERVER | 2025-11-13 19:04:04,350 - backend.workflow_v7_mcp - INFO - üéØ SUPERVISOR NODE (MCP) - Making routing decision
[19:04:04] SERVER | 2025-11-13 19:04:04,350 - backend.workflow_v7_mcp - INFO - ==================================================
[19:04:04] SERVER | 2025-11-13 19:04:04,350 - backend.workflow_v7_mcp - INFO - üîç DEBUG STATE:
[19:04:04] SERVER | 2025-11-13 19:04:04,350 - backend.workflow_v7_mcp - INFO -    Iteration: 0
[19:04:04] SERVER | 2025-11-13 19:04:04,350 - backend.workflow_v7_mcp - INFO -    Last Agent: None
[19:04:04] SERVER | 2025-11-13 19:04:04,350 - backend.workflow_v7_mcp - INFO -    Research Context: ‚ùå Missing
[19:04:04] SERVER | 2025-11-13 19:04:04,350 - backend.workflow_v7_mcp - INFO -    Architecture: ‚ùå Missing
[19:04:04] SERVER | 2025-11-13 19:04:04,350 - backend.workflow_v7_mcp - INFO -    Generated Files: 0 files
[19:04:04] SERVER | 2025-11-13 19:04:04,350 - backend.workflow_v7_mcp - INFO -    Validation Results: ‚ùå Missing
[19:04:04] SERVER | 2025-11-13 19:04:04,350 - backend.workflow_v7_mcp - INFO -    Response Ready: False
[19:04:04] SERVER | 2025-11-13 19:04:04,350 - backend.workflow_v7_mcp - INFO -    User Response: ‚ùå Missing
[19:04:04] SERVER | 2025-11-13 19:04:04,350 - backend.workflow_v7_mcp - INFO -    Errors: 0 errors
[19:04:04] SERVER | 2025-11-13 19:04:04,350 - backend.workflow_v7_mcp - INFO -    Agent History: []
[19:04:04] SERVER | 2025-11-13 19:04:04,350 - backend.core.supervisor_mcp - INFO - ‚ú® Phase 3: Creating SupervisorMCP with Factory-based LLM
[19:04:04] SERVER | 2025-11-13 19:04:04,350 - backend.core.supervisor_mcp - INFO - ü§ñ Initializing SupervisorMCP...
[19:04:04] SERVER | 2025-11-13 19:04:04,350 - backend.core.supervisor_mcp - INFO - üìÇ Loading LLM config from: backend/config/agent_llm_config.json
[19:04:04] SERVER | 2025-11-13 19:04:04,350 - agent.llm_config - INFO - üîß Loading LLM config from: backend/config/agent_llm_config.json
[19:04:04] SERVER | 2025-11-13 19:04:04,351 - agent.llm_config - INFO - ‚úÖ Config loaded: 6 agents configured
[19:04:04] SERVER | 2025-11-13 19:04:04,351 - agent.llm_config - INFO - üéØ LLM Config Manager initialized: AgentLLMConfig(v1.0, agents=[supervisor, codesmith, architect, research, reviewfix, responder])
[19:04:04] SERVER | 2025-11-13 19:04:04,351 - backend.core.supervisor_mcp - INFO -    ‚úÖ Config loaded
[19:04:04] SERVER | 2025-11-13 19:04:04,351 - agent.llm_factory - INFO - üè≠ Creating LLM provider for agent: supervisor
[19:04:04] SERVER | 2025-11-13 19:04:04,351 - agent.llm_factory - INFO - ‚úÖ Created openai provider: gpt-4o-2024-11-20
[19:04:04] SERVER | 2025-11-13 19:04:04,351 - backend.core.supervisor_mcp - INFO -    ‚úÖ LLM Provider: openai
[19:04:04] SERVER | 2025-11-13 19:04:04,351 - backend.core.supervisor_mcp - INFO -    ‚úÖ Model: gpt-4o-2024-11-20
[19:04:04] SERVER | 2025-11-13 19:04:04,351 - backend.core.supervisor_mcp - INFO -    ‚úÖ Temperature: 0.3
[19:04:04] SERVER | 2025-11-13 19:04:04,351 - backend.core.supervisor_mcp - INFO -    ‚úÖ Max tokens: 1500
[19:04:04] SERVER | 2025-11-13 19:04:04,351 - backend.core.supervisor_mcp - INFO -    ‚úÖ Timeout: 30s
[19:04:04] SERVER | 2025-11-13 19:04:04,351 - backend.core.supervisor_mcp - INFO - ‚úÖ SupervisorMCP initialized successfully
[19:04:04] SERVER | 2025-11-13 19:04:04,351 - backend.core.supervisor_mcp - INFO - ‚ö†Ô∏è MCP BLEIBT: Pure MCP architecture active!
[19:04:04] SERVER | 2025-11-13 19:04:04,351 - backend.core.supervisor_mcp - INFO - üîç DEBUG TERMINATION CHECK:
[19:04:04] SERVER | 2025-11-13 19:04:04,351 - backend.core.supervisor_mcp - INFO -    response_ready: False
[19:04:04] SERVER | 2025-11-13 19:04:04,351 - backend.core.supervisor_mcp - INFO -    error_count: 0
[19:04:04] SERVER | 2025-11-13 19:04:04,351 - backend.core.supervisor_mcp - INFO -    iteration: 0
[19:04:04] SERVER | 2025-11-13 19:04:04,351 - backend.core.supervisor_mcp - INFO - üèóÔ∏è Requesting structured decision from LLM...
[19:04:04] SERVER | 2025-11-13 19:04:04,351 - agent.llm_provider - INFO - üèóÔ∏è Generating structured output: SupervisorDecision
[19:04:04] SERVER | 2025-11-13 19:04:04,352 - agent.llm_provider - INFO - üì§ Requesting structured output...
[19:04:04] SERVER | 2025-11-13 19:04:04,352 - agent.llm_provider - INFO - üì§ Calling openai (attempt 1/3)
[19:04:04] SERVER | 2025-11-13 19:04:04,352 - agent.llm_provider - INFO - ‚úÖ OPENAI_API_KEY is set
19:04:06.363 | WARNING  | ‚è±Ô∏è Receive timeout after 120.0s
19:04:06.363 | INFO     |   ‚úÖ Code generation complete with 1 messages
19:04:06.364 | INFO     | ‚úÖ Phase 'Code Generation' complete (elapsed: 6.3s)
19:04:06.364 | INFO     | 
================================================================================
19:04:06.364 | INFO     | PHASE 6: ReviewFix Validation
19:04:06.364 | INFO     | ================================================================================
19:04:06.365 | INFO     | üì§ SENT message #4: chat
19:04:06.365 | DEBUG    | > TEXT '{"type": "chat", "message": "Review the code fo...es and fix any issues"}' [84 bytes]
19:04:06.365 | INFO     |   ‚è≥ Waiting for ReviewFix Agent...
[19:04:07] SERVER | 2025-11-13 19:04:07,163 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
19:04:07.179 | DEBUG    | < TEXT '{"type":"progress","node":"supervisor","message...11-13T19:04:07.179037"}' [171 bytes]
19:04:07.180 | INFO     | üì• RECEIVED: progress
19:04:07.181 | DEBUG    | < TEXT '{"type":"mcp_progress","server":"responder_agen...11-13T19:04:07.180998"}' [146 bytes]
19:04:07.182 | INFO     | üì• RECEIVED: mcp_progress
[19:04:07] SERVER | 2025-11-13 19:04:07,176 - agent.llm_provider - INFO - ‚úÖ OpenAI response: LLMResponse(openai:gpt-4o-2024-11-20, content_len=511, tokens=1704, time=2818.3000087738037ms)
19:04:07.182 | DEBUG    | < TEXT '{"type":"mcp_progress","server":"responder_agen...11-13T19:04:07.181271"}' [144 bytes]
19:04:07.182 | DEBUG    | < TEXT '{"type":"mcp_progress","server":"responder_agen...11-13T19:04:07.181353"}' [145 bytes]
19:04:07.182 | INFO     | üì• RECEIVED: mcp_progress
19:04:07.182 | INFO     | üì• RECEIVED: mcp_progress
19:04:07.182 | DEBUG    | < TEXT '{"type":"mcp_progress","server":"responder_agen...11-13T19:04:07.181470"}' [141 bytes]
19:04:07.183 | INFO     | üì• RECEIVED: mcp_progress
19:04:07.184 | DEBUG    | < TEXT '{"type":"progress","node":"responder","message"...11-13T19:04:07.183056"}' [169 bytes]
19:04:07.184 | INFO     | üì• RECEIVED: progress
19:04:07.184 | DEBUG    | < TEXT '{"type":"agent_event","agent":"supervisor","eve...11-13T19:04:07.183641"}' [254 bytes]
19:04:07.184 | INFO     | üì• RECEIVED: agent_event
19:04:07.185 | DEBUG    | < TEXT '{"type":"progress","node":"supervisor","message...11-13T19:04:07.185029"}' [171 bytes]
19:04:07.186 | INFO     | üì• RECEIVED: progress
19:04:07.186 | DEBUG    | < TEXT '{"type":"workflow_complete","message":"‚úÖ Pure M...11-13T19:04:07.185392"}' [153 bytes]
19:04:07.186 | INFO     | üì• RECEIVED: workflow_complete
[19:04:07] SERVER | 2025-11-13 19:04:07,176 - agent.llm_provider - INFO - ‚úÖ LLMResponse(openai:gpt-4o-2024-11-20, content_len=511, tokens=1704, time=2818.3000087738037ms)
[19:04:07] SERVER | 2025-11-13 19:04:07,176 - agent.llm_provider - INFO - üîç Parsing JSON response...
[19:04:07] SERVER | 2025-11-13 19:04:07,176 - agent.llm_provider - ERROR - ‚ùå Response is not valid JSON
[19:04:07] SERVER | 2025-11-13 19:04:07,177 - agent.llm_provider - ERROR -    Response: ```json
[19:04:07] SERVER | {
[19:04:07] SERVER |   "action": "CONTINUE",
19:04:07.208 | DEBUG    | < TEXT '{"type":"result","content":"# ‚ö†Ô∏è Task Partially..."‚úÖ Workflow complete!"}' [396 bytes]
19:04:07.208 | DEBUG    | < TEXT '{"type":"status","status":"analyzing","message"... analyzing request..."}' [87 bytes]
19:04:07.208 | INFO     | üì• RECEIVED: result
[19:04:07] SERVER |   "next_agent": "research",
19:04:07.208 | INFO     | üì• RECEIVED: status
[19:04:07] SERVER |   "parallel_agents": null,
[19:04:07] SERVER |   "instructions": "Analyze the workspace and gather context for creating a simple calculator app that adds two ...
[19:04:07] SERVER | 2025-11-13 19:04:07,177 - agent.llm_provider - ERROR -    Error: Expecting value: line 1 column 1 (char 0)
[19:04:07] SERVER | 2025-11-13 19:04:07,177 - backend.core.supervisor_mcp - ERROR - ‚ùå Failed to parse LLM response as SupervisorDecision
[19:04:07] SERVER | 2025-11-13 19:04:07,177 - backend.core.supervisor_mcp - ERROR -    Error type: JSONDecodeError
[19:04:07] SERVER | 2025-11-13 19:04:07,177 - backend.core.supervisor_mcp - ERROR -    Message: Expecting value: line 1 column 1 (char 0)
[19:04:07] SERVER | 2025-11-13 19:04:07,177 - backend.workflow_v7_mcp - INFO - üîç BEFORE Command modification:
[19:04:07] SERVER | 2025-11-13 19:04:07,177 - backend.workflow_v7_mcp - INFO -    command.goto = 'responder'
[19:04:07] SERVER | 2025-11-13 19:04:07,177 - backend.workflow_v7_mcp - INFO -    command.update = {'response_ready': True, 'response': 'Supervisor failed to parse decision: Expecting value: line 1 column 1 (char 0)', 'error': 'Expecting value: line 1 column 1 (char 0)', 'last_agent': 'supervisor'}
[19:04:07] SERVER | 2025-11-13 19:04:07,177 - backend.workflow_v7_mcp - INFO - üîç AFTER Command modification:
[19:04:07] SERVER | 2025-11-13 19:04:07,177 - backend.workflow_v7_mcp - INFO -    command.goto = 'responder'
[19:04:07] SERVER | 2025-11-13 19:04:07,177 - backend.workflow_v7_mcp - INFO -    command.update = {'response_ready': True, 'response': 'Supervisor failed to parse decision: Expecting value: line 1 column 1 (char 0)', 'error': 'Expecting value: line 1 column 1 (char 0)', 'last_agent': 'supervisor', 'iteration': 1}
[19:04:07] SERVER | 2025-11-13 19:04:07,177 - backend.workflow_v7_mcp - INFO -    command object ID = 4536902080
[19:04:07] SERVER | 2025-11-13 19:04:07,177 - backend.workflow_v7_mcp - INFO - üéØ DECISION:
[19:04:07] SERVER | 2025-11-13 19:04:07,177 - backend.workflow_v7_mcp - INFO -    Route to: responder
[19:04:07] SERVER | 2025-11-13 19:04:07,177 - backend.workflow_v7_mcp - INFO -    Iteration: 0 ‚Üí 1
[19:04:07] SERVER | 2025-11-13 19:04:07,177 - backend.workflow_v7_mcp - INFO -    Update Keys: ['response_ready', 'response', 'error', 'last_agent', 'iteration']
[19:04:07] SERVER | 2025-11-13 19:04:07,177 - backend.workflow_v7_mcp - INFO -    Instructions: None...
[19:04:07] SERVER | 2025-11-13 19:04:07,177 - backend.workflow_v7_mcp - INFO -    ‚ö†Ô∏è MCP BLEIBT: Will be executed via mcp.call()
[19:04:07] SERVER | 2025-11-13 19:04:07,178 - backend.workflow_v7_mcp - INFO - üîç DEBUG: Got workflow event: ['supervisor']
[19:04:07] SERVER | 2025-11-13 19:04:07,179 - backend.workflow_v7_mcp - INFO - 
[19:04:07] SERVER |    üì• Event from: supervisor
[19:04:07] SERVER | 2025-11-13 19:04:07,179 - backend.workflow_v7_mcp - INFO -       Agent: supervisor
[19:04:07] SERVER | 2025-11-13 19:04:07,179 - backend.workflow_v7_mcp - INFO -       ‚ö†Ô∏è MCP BLEIBT: Executed via mcp.call()
[19:04:07] SERVER | 2025-11-13 19:04:07,179 - backend.workflow_v7_mcp - INFO - üí¨ RESPONDER NODE (MCP) - Formatting user response via MCP
[19:04:07] SERVER | 2025-11-13 19:04:07,179 - backend.workflow_v7_mcp - INFO -    üîß Calling mcp.call('responder_agent', 'format_response', ...)
[19:04:07] SERVER | 2025-11-13 19:04:07,179 - backend.utils.mcp_manager - INFO - üîß Calling responder_agent.format_response() with timeout=120.0s
[19:04:07] SERVER | 2025-11-13 19:04:07,181 - backend.utils.mcp_manager - INFO -    ‚è≥ responder_agent still processing... (0s elapsed)
[19:04:07] SERVER | 2025-11-13 19:04:07,181 - backend.utils.mcp_manager - INFO -    ‚è≥ responder_agent still processing... (0s elapsed)
[19:04:07] SERVER | 2025-11-13 19:04:07,181 - backend.utils.mcp_manager - INFO -    ‚è≥ responder_agent still processing... (0s elapsed)
[19:04:07] SERVER | 2025-11-13 19:04:07,181 - backend.utils.mcp_manager - INFO -    ‚è≥ responder_agent still processing... (0s elapsed)
[19:04:07] SERVER | 2025-11-13 19:04:07,181 - backend.utils.mcp_manager - INFO -    ‚úÖ responder_agent.format_response() received response
[19:04:07] SERVER | 2025-11-13 19:04:07,181 - backend.workflow_v7_mcp - INFO -    ‚úÖ Response formatted via MCP - workflow ready to complete
[19:04:07] SERVER | 2025-11-13 19:04:07,181 - backend.workflow_v7_mcp - INFO -    Returning to Supervisor for termination
[19:04:07] SERVER | 2025-11-13 19:04:07,181 - backend.workflow_v7_mcp - INFO - üîç DEBUG RESPONDER RETURN:
[19:04:07] SERVER | 2025-11-13 19:04:07,181 - backend.workflow_v7_mcp - INFO -    Command goto: supervisor
[19:04:07] SERVER | 2025-11-13 19:04:07,181 - backend.workflow_v7_mcp - INFO -    response_ready: TRUE ‚Üê Should trigger END!
[19:04:07] SERVER | 2025-11-13 19:04:07,181 - backend.workflow_v7_mcp - INFO -    Update keys: ['user_response', 'response_ready', 'last_agent', 'agent_history']
[19:04:07] SERVER | 2025-11-13 19:04:07,181 - backend.workflow_v7_mcp - INFO -    Agent history: ['responder']
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.workflow_v7_mcp - INFO - üîç DEBUG: Got workflow event: ['responder']
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.workflow_v7_mcp - INFO - 
[19:04:07] SERVER |    üì• Event from: responder
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.workflow_v7_mcp - INFO -       Agent: responder
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.workflow_v7_mcp - INFO -       ‚ö†Ô∏è MCP BLEIBT: Executed via mcp.call()
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.workflow_v7_mcp - INFO - ==================================================
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.workflow_v7_mcp - INFO - üéØ SUPERVISOR NODE (MCP) - Making routing decision
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.workflow_v7_mcp - INFO - ==================================================
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.workflow_v7_mcp - INFO - üîç DEBUG STATE:
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.workflow_v7_mcp - INFO -    Iteration: 1
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.workflow_v7_mcp - INFO -    Last Agent: responder
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.workflow_v7_mcp - INFO -    Research Context: ‚ùå Missing
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.workflow_v7_mcp - INFO -    Architecture: ‚ùå Missing
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.workflow_v7_mcp - INFO -    Generated Files: 0 files
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.workflow_v7_mcp - INFO -    Validation Results: ‚ùå Missing
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.workflow_v7_mcp - INFO -    Response Ready: True
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.workflow_v7_mcp - INFO -    User Response: ‚úÖ Present
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.workflow_v7_mcp - INFO -    Errors: 0 errors
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.workflow_v7_mcp - INFO -    Agent History: []
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.core.supervisor_mcp - INFO - üîç DEBUG TERMINATION CHECK:
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.core.supervisor_mcp - INFO -    response_ready: True
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.core.supervisor_mcp - INFO -    error_count: 0
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.core.supervisor_mcp - INFO -    iteration: 1
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.core.supervisor_mcp - INFO - ‚úÖ Response ready - workflow complete!
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.core.supervisor_mcp - INFO - üîç DEBUG: Routing to END (response_ready=True)
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.workflow_v7_mcp - INFO - üîç BEFORE Command modification:
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.workflow_v7_mcp - INFO -    command.goto = '__end__'
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.workflow_v7_mcp - INFO -    command.update = None
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.workflow_v7_mcp - INFO - üîç AFTER Command modification:
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.workflow_v7_mcp - INFO -    command.goto = '__end__'
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.workflow_v7_mcp - INFO -    command.update = {'iteration': 2}
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.workflow_v7_mcp - INFO -    command object ID = 4537440432
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.workflow_v7_mcp - INFO - üéØ DECISION:
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.workflow_v7_mcp - INFO -    Route to: __end__
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.workflow_v7_mcp - INFO -    Iteration: 1 ‚Üí 2
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.workflow_v7_mcp - INFO -    Update Keys: ['iteration']
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.workflow_v7_mcp - INFO -    Instructions: None...
[19:04:07] SERVER | 2025-11-13 19:04:07,183 - backend.workflow_v7_mcp - INFO -    ‚ö†Ô∏è MCP BLEIBT: Will be executed via mcp.call()
[19:04:07] SERVER | 2025-11-13 19:04:07,184 - backend.workflow_v7_mcp - INFO - üîç DEBUG: Got workflow event: ['supervisor']
[19:04:07] SERVER | 2025-11-13 19:04:07,185 - backend.workflow_v7_mcp - INFO - 
[19:04:07] SERVER |    üì• Event from: supervisor
[19:04:07] SERVER | 2025-11-13 19:04:07,185 - backend.workflow_v7_mcp - INFO - 
[19:04:07] SERVER | ‚úÖ Workflow completed - sending completion event
[19:04:07] SERVER | 2025-11-13 19:04:07,185 - backend.utils.event_stream - INFO -    üì° Unsubscribed: 5cf3e5e2-7adc-4aa7-ba5d-ec37d25cf887
[19:04:07] SERVER | 2025-11-13 19:04:07,185 - backend.workflow_v7_mcp - INFO - 
[19:04:07] SERVER | ‚úÖ Workflow execution complete (Pure MCP)!
[19:04:07] SERVER | 2025-11-13 19:04:07,185 - backend.workflow_v7_mcp - INFO - üîå Closing MCP connections...
[19:04:07] SERVER | 2025-11-13 19:04:07,185 - backend.utils.mcp_manager - INFO - üîå Closing MCP connections...
[19:04:07] SERVER | 2025-11-13 19:04:07,206 - backend.utils.mcp_manager - INFO - ‚úÖ MCP connections closed
[19:04:07] SERVER | 2025-11-13 19:04:07,206 - backend.workflow_v7_mcp - INFO - ‚úÖ MCP connections closed
[19:04:07] SERVER | 2025-11-13 19:04:07,206 - backend.api.server_v7_mcp - INFO -    Workflow returned: <class 'dict'>
[19:04:07] SERVER | 2025-11-13 19:04:07,206 - backend.api.server_v7_mcp - INFO -    Keys in result: ['response_ready', 'last_agent', 'iteration', 'user_response']
[19:04:07] SERVER | 2025-11-13 19:04:07,206 - backend.api.server_v7_mcp - INFO -    Response ready: True
[19:04:07] SERVER | 2025-11-13 19:04:07,206 - backend.api.server_v7_mcp - INFO -    Last agent: responder
[19:04:07] SERVER | 2025-11-13 19:04:07,207 - backend.api.server_v7_mcp - INFO - ‚úÖ Workflow complete for client_562cedce
[19:04:07] SERVER | 2025-11-13 19:04:07,207 - backend.api.server_v7_mcp - INFO - üì® Received chat from client_562cedce
[19:04:07] SERVER | 2025-11-13 19:04:07,207 - backend.api.server_v7_mcp - INFO - üîç DEBUG: Entering chat message handler
[19:04:07] SERVER | 2025-11-13 19:04:07,207 - backend.api.server_v7_mcp - INFO - üîç DEBUG: user_query extracted: Add a multiply function to the calculator
[19:04:07] SERVER | 2025-11-13 19:04:07,207 - backend.api.server_v7_mcp - INFO - üîç DEBUG: Before persisting user message
[19:04:07] SERVER | 2025-11-13 19:04:07,207 - backend.api.server_v7_mcp - INFO - üîç DEBUG: User message persisted
[19:04:07] SERVER | 2025-11-13 19:04:07,207 - backend.api.server_v7_mcp - INFO - üîç DEBUG: Before sending analyzing status
[19:04:07] SERVER | 2025-11-13 19:04:07,207 - backend.api.server_v7_mcp - INFO - üîç DEBUG: Analyzing status sent
[19:04:07] SERVER | 2025-11-13 19:04:07,207 - backend.api.server_v7_mcp - INFO - üîç DEBUG: About to enter try block for workflow execution...
[19:04:07] SERVER | 2025-11-13 19:04:07,207 - backend.api.server_v7_mcp - INFO - üîç DEBUG: Inside try block
[19:04:07] SERVER | 2025-11-13 19:04:07,207 - backend.api.server_v7_mcp - INFO - üöÄ Running v7.0 Pure MCP workflow for: Add a multiply function to the calculator...
[19:04:07] SERVER | 2025-11-13 19:04:07,207 - backend.api.server_v7_mcp - INFO - ‚ö†Ô∏è MCP BLEIBT: All agents will execute via MCP protocol!
[19:04:07] SERVER | 2025-11-13 19:04:07,207 - backend.api.server_v7_mcp - INFO -    Workspace: /Users/dominikfoert/TestApps/e2e_reviewfix_validation_20251113_190400
[19:04:07] SERVER | 2025-11-13 19:04:07,207 - backend.api.server_v7_mcp - INFO -    Session ID: 5cf3e5e2-7adc-4aa7-ba5d-ec37d25cf887
[19:04:07] SERVER | 2025-11-13 19:04:07,207 - backend.api.server_v7_mcp - INFO -    Client ID: client_562cedce
[19:04:07] SERVER | 2025-11-13 19:04:07,207 - backend.api.server_v7_mcp - INFO - üîç DEBUG: Importing workflow module...
[19:04:07] SERVER | 2025-11-13 19:04:07,207 - backend.api.server_v7_mcp - INFO - ‚úÖ DEBUG: Workflow module imported successfully
[19:04:07] SERVER | 2025-11-13 19:04:07,207 - backend.api.server_v7_mcp - INFO - üîç DEBUG: Calling execute_supervisor_workflow_streaming_mcp...
[19:04:07] SERVER | 2025-11-13 19:04:07,207 - backend.workflow_v7_mcp - INFO - ============================================================
[19:04:07] SERVER | 2025-11-13 19:04:07,207 - backend.workflow_v7_mcp - INFO - üöÄ EXECUTING SUPERVISOR WORKFLOW v7.0 (PURE MCP + STREAMING)
[19:04:07] SERVER | 2025-11-13 19:04:07,207 - backend.workflow_v7_mcp - INFO - ============================================================
[19:04:07] SERVER | 2025-11-13 19:04:07,207 - backend.workflow_v7_mcp - INFO - Query: Add a multiply function to the calculator
[19:04:07] SERVER | 2025-11-13 19:04:07,207 - backend.workflow_v7_mcp - INFO - Workspace: /Users/dominikfoert/TestApps/e2e_reviewfix_validation_20251113_190400
[19:04:07] SERVER | 2025-11-13 19:04:07,207 - backend.workflow_v7_mcp - INFO - ‚ö†Ô∏è MCP BLEIBT: All agents execute via MCP protocol!
[19:04:07] SERVER | 2025-11-13 19:04:07,207 - backend.workflow_v7_mcp - INFO - üîç DEBUG: Step 1 - Importing event_stream...
[19:04:07] SERVER | 2025-11-13 19:04:07,207 - backend.workflow_v7_mcp - INFO - üîç DEBUG: Step 2 - Getting event_manager...
[19:04:07] SERVER | 2025-11-13 19:04:07,207 - backend.workflow_v7_mcp - INFO - ‚úÖ DEBUG: Event manager obtained
[19:04:07] SERVER | 2025-11-13 19:04:07,208 - backend.workflow_v7_mcp - INFO - üîç DEBUG: Step 3 - Getting MCP manager...
[19:04:07] SERVER | 2025-11-13 19:04:07,208 - backend.workflow_v7_mcp - INFO - ‚úÖ DEBUG: MCP manager obtained
[19:04:07] SERVER | 2025-11-13 19:04:07,208 - backend.workflow_v7_mcp - INFO - üîç DEBUG: Step 4 - Initializing MCP connections...
[19:04:07] SERVER | 2025-11-13 19:04:07,208 - backend.workflow_v7_mcp - INFO - üì° Initializing MCP connections...
[19:04:07] SERVER | 2025-11-13 19:04:07,208 - backend.utils.mcp_manager - INFO - üîç DEBUG: MCPManager.initialize() called
[19:04:07] SERVER | 2025-11-13 19:04:07,208 - backend.utils.mcp_manager - INFO - üöÄ Initializing MCP connections...
[19:04:07] SERVER | 2025-11-13 19:04:07,208 - backend.utils.mcp_manager - INFO - ‚ö†Ô∏è MCP BLEIBT: Starting Pure MCP v7.0 agent servers...
[19:04:07] SERVER | 2025-11-13 19:04:07,208 - backend.utils.mcp_manager - INFO - üîç DEBUG: Connecting to 12 servers: ['openai', 'research_agent', 'architect_agent']...
[19:04:07] SERVER | 2025-11-13 19:04:07,208 - backend.utils.mcp_manager - INFO - üîç DEBUG: Created 12 connection tasks
[19:04:07] SERVER | 2025-11-13 19:04:07,208 - backend.utils.mcp_manager - INFO -    üìù Server will log to: /tmp/mcp_openai.log
[19:04:07] SERVER | 2025-11-13 19:04:07,208 - backend.utils.mcp_manager - INFO -    üìù Server will log to: /tmp/mcp_research_agent.log
[19:04:07] SERVER | 2025-11-13 19:04:07,208 - backend.utils.mcp_manager - INFO -    üìù Server will log to: /tmp/mcp_architect_agent.log
[19:04:07] SERVER | 2025-11-13 19:04:07,209 - backend.utils.mcp_manager - INFO -    üìù Server will log to: /tmp/mcp_codesmith_agent.log
[19:04:07] SERVER | 2025-11-13 19:04:07,209 - backend.utils.mcp_manager - INFO -    üìù Server will log to: /tmp/mcp_reviewfix_agent.log
[19:04:07] SERVER | 2025-11-13 19:04:07,210 - backend.utils.mcp_manager - INFO -    üìù Server will log to: /tmp/mcp_responder_agent.log
[19:04:07] SERVER | 2025-11-13 19:04:07,210 - backend.utils.mcp_manager - INFO -    üìù Server will log to: /tmp/mcp_claude_cli.log
[19:04:07] SERVER | 2025-11-13 19:04:07,210 - backend.utils.mcp_manager - INFO -    üìù Server will log to: /tmp/mcp_perplexity.log
[19:04:07] SERVER | 2025-11-13 19:04:07,211 - backend.utils.mcp_manager - INFO -    üìù Server will log to: /tmp/mcp_memory.log
[19:04:07] SERVER | 2025-11-13 19:04:07,212 - backend.utils.mcp_manager - INFO -    üìù Server will log to: /tmp/mcp_build_validation.log
[19:04:07] SERVER | 2025-11-13 19:04:07,213 - backend.utils.mcp_manager - INFO -    üìù Server will log to: /tmp/mcp_file_tools.log
[19:04:07] SERVER | 2025-11-13 19:04:07,213 - backend.utils.mcp_manager - INFO -    üìù Server will log to: /tmp/mcp_tree_sitter.log
19:04:09.209 | WARNING  | ‚è±Ô∏è Receive timeout after 120.0s
19:04:09.209 | INFO     |   ‚úÖ ReviewFix validation complete with 11 messages
19:04:09.209 | INFO     | ‚úÖ Phase 'ReviewFix Validation' complete (elapsed: 9.1s)
19:04:09.209 | DEBUG    | = connection is CLOSING
19:04:09.209 | DEBUG    | > CLOSE 1000 (OK) [2 bytes]
19:04:09.210 | DEBUG    | < CLOSE 1000 (OK) [2 bytes]
19:04:09.210 | DEBUG    | = connection is CLOSED
19:04:09.211 | INFO     | 
================================================================================
TEST EXECUTION SUMMARY
================================================================================
Total Duration: 9.1s
Phases Completed: 6/6
  Environment Setup ‚Üí Backend Connection ‚Üí Workspace Init ‚Üí Simple Query ‚Üí Code Generation ‚Üí ReviewFix Validation
Messages Received: 14
Agents Invoked: []
Errors: 0
  ‚úÖ No errors!
================================================================================

19:04:09.211 | INFO     | 
‚úÖ Test PASSED - All phases complete!
[19:04:09] SERVER | INFO:     connection closed

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

[19:04:09] üõë Stopping server (PID: 70334)...
Terminated: 15             python -u start_server.py 2>&1

‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                    üìä TEST EXECUTION COMPLETE                                  ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

Exit Code: 0

üìÅ Log Files Generated:
  üìù Server Log:       /Users/dominikfoert/git/KI_AutoAgent/.logs/server_20251113_190353.log
  üìù E2E Test Log:     /Users/dominikfoert/git/KI_AutoAgent/.logs/e2e_test_20251113_190353.log

üîç How to View Logs:

  In VSCode Terminal:
    tail -f "/Users/dominikfoert/git/KI_AutoAgent/.logs/server_20251113_190353.log"
    tail -f "/Users/dominikfoert/git/KI_AutoAgent/.logs/e2e_test_20251113_190353.log"

  Find WebSocket detailed logs:
    ls -lht ~/TestApps/e2e_reviewfix_validation_*/logs/
    cat ~/TestApps/e2e_reviewfix_validation_*/logs/websocket_both_*.log

üìä Test Results:
  ‚úÖ PASSED - All phases completed successfully!

