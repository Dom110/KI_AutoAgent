INFO:__main__:🔍 DEBUG: Starting LangGraph server v5.5.2 on port 8001
INFO:__main__:🔍 DEBUG: This is the ACTIVE server for v5.5.2-stable-safe-executor
INFO:__main__:🔍 DEBUG: WebSocket endpoint: ws://localhost:8001/ws/chat
INFO:__main__:✅ Models API endpoint registered at /api/models
INFO:__main__:✅ Settings API endpoint registered at /api/settings
INFO:__main__:🚀 Starting server on port 8001
INFO:uvicorn.error:Started server process [90415]
INFO:uvicorn.error:Waiting for application startup.
INFO:__main__:================================================================================
INFO:__main__:🚀 Starting KI AutoAgent LangGraph Backend v5.5.2...
INFO:__main__:🔍 DEBUG: Initializing LangGraph StateGraph workflow system
INFO:__main__:🔍 DEBUG: Using port 8001 (NOT 8000)
INFO:__main__:📦 Creating agent workflow...
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO:langgraph_system.extensions.persistent_memory:Created new vector store for orchestrator
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO:langgraph_system.extensions.persistent_memory:Created new vector store for architect
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO:langgraph_system.extensions.persistent_memory:Created new vector store for codesmith
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO:langgraph_system.extensions.persistent_memory:Created new vector store for reviewer
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO:langgraph_system.extensions.persistent_memory:Created new vector store for fixer
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO:langgraph_system.extensions.persistent_memory:Created new vector store for docbot
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO:langgraph_system.extensions.persistent_memory:Created new vector store for research
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO:langgraph_system.extensions.persistent_memory:Created new vector store for tradestrat
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO:langgraph_system.extensions.persistent_memory:Created new vector store for opus_arbitrator
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO:langgraph_system.extensions.persistent_memory:Created new vector store for performance
INFO:langgraph_system.workflow:🤖 Initializing real agent instances...
INFO:config.capabilities_loader:✅ Loaded capabilities for 11 agents
INFO:agents.base.base_agent:✅ Loaded instructions for ArchitectAgent from .kiautoagent/instructions/architect-v2-instructions.md
INFO:agents.base.base_agent:🤖 🏗️ ArchitectAgent initialized (Model: gpt-4o-2024-11-20)
INFO:utils.openai_service:✅ OpenAI Service initialized with model: gpt-4o-2024-11-20
INFO:agents.specialized.architect_agent:🏗️ Initializing ArchitectAgent with path: /Users/dominikfoert/git/KI_AutoAgent
INFO:agents.specialized.architect_agent:🏗️ Initializing ProjectCache with path: /Users/dominikfoert/git/KI_AutoAgent
INFO:services.project_cache:📦 ProjectCache initialized: /Users/dominikfoert/git/KI_AutoAgent/.kiautoagent/cache
INFO:services.code_search:🔍 LightweightCodeSearch initialized for: /Users/dominikfoert/git/KI_AutoAgent
INFO:services.smart_file_watcher:👁️  SmartFileWatcher initialized for: /Users/dominikfoert/git/KI_AutoAgent
INFO:services.smart_file_watcher:👁️  File watcher started (call check_changes() to check for updates)
INFO:agents.specialized.architect_agent:✅ Cache services initialized: Redis cache, SQLite search, Smart File watcher with 30s debounce
INFO:core.indexing.tree_sitter_indexer:TreeSitterIndexer initialized (using Python ast module)
INFO:core.indexing.tree_sitter_indexer:TreeSitterIndexer initialized (using Python ast module)
INFO:agents.specialized.architect_agent:✅ Code indexing tools initialized
INFO:agents.specialized.architect_agent:✅ Analysis tools initialized: Semgrep, Vulture, Radon, CallGraph, Layers
INFO:services.diagram_service:📊 DiagramService initialized
INFO:agents.base.base_agent:✅ Loaded instructions for CodeSmithAgent from .kiautoagent/instructions/codesmith-v2-instructions.md
INFO:agents.base.base_agent:🤖 💻 CodeSmithAgent initialized (Model: claude-4.1-sonnet-20250920)
INFO:utils.claude_code_service:✅ Claude Code CLI found: 2.0.1 (Claude Code)
INFO:core.indexing.tree_sitter_indexer:TreeSitterIndexer initialized (using Python ast module)
INFO:core.indexing.tree_sitter_indexer:TreeSitterIndexer initialized (using Python ast module)
INFO:services.diagram_service:📊 DiagramService initialized
INFO:agents.base.base_agent:✅ Loaded instructions for ReviewerGPT from .kiautoagent/instructions/reviewergpt-instructions.md
INFO:agents.base.base_agent:🤖 🔍 ReviewerGPT initialized (Model: gpt-4o-mini-2024-07-18)
INFO:utils.openai_service:✅ OpenAI Service initialized with model: gpt-4o-mini-2024-07-18
INFO:agents.base.base_agent:✅ Loaded instructions for FixerBot from .kiautoagent/instructions/fixerbot-instructions.md
INFO:agents.base.base_agent:🤖 🔧 FixerBot initialized (Model: claude-4.1-sonnet-20250920)
INFO:utils.claude_code_service:✅ Claude Code CLI found: 2.0.1 (Claude Code)
INFO:agents.base.base_agent:🤖 🎯 OrchestratorAgent initialized (Model: gpt-4o-2024-11-20)
INFO:langgraph_system.workflow:✅ Orchestrator initialized with AI decomposition
INFO:agents.base.base_agent:✅ Loaded instructions for ResearchBot from .kiautoagent/instructions/research-instructions.md
INFO:agents.base.base_agent:🤖 🔍 ResearchBot initialized (Model: sonar)
INFO:utils.perplexity_service:✅ PerplexityService initialized with model: sonar
INFO:agents.specialized.research_agent:✅ ResearchAgent initialized with Perplexity API
INFO:langgraph_system.workflow:✅ ResearchAgent initialized with Perplexity API
INFO:langgraph_system.workflow:✅ Initialized 6 real agents
INFO:langgraph_system.workflow_self_diagnosis:🏥 Workflow Self-Diagnosis System v5.5.0 initialized
INFO:langgraph_system.workflow:🏥 Self-Diagnosis System initialized
INFO:langgraph_system.workflow:🧠 Intelligent Query Handler initialized
INFO:langgraph_system.workflow:🛡️ Safe Orchestrator Executor initialized (v5.5.2)
INFO:langgraph_system.workflow:✅ Workflow compiled with checkpointer support
INFO:__main__:✅ LangGraph workflow system initialized
INFO:__main__:✅ workflow_system type: AgentWorkflow
INFO:__main__:🔧 Tool registry initialized with 0 tools
INFO:__main__:✅ Approval manager initialized
INFO:__main__:================================================================================
INFO:__main__:🎉 STARTUP COMPLETE - Ready to accept connections!
INFO:__main__:================================================================================
INFO:uvicorn.error:Application startup complete.
ERROR:uvicorn.error:[Errno 48] error while attempting to bind on address ('127.0.0.1', 8001): address already in use
INFO:uvicorn.error:Waiting for application shutdown.
INFO:__main__:👋 Shutting down KI AutoAgent Backend...
INFO:uvicorn.error:Application shutdown complete.
INFO:services.smart_file_watcher:👁️  File watcher stopped
INFO:agents.specialized.architect_agent:✅ File watcher stopped
