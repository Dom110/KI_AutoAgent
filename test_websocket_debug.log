2025-09-25 08:39:44,928 - __main__ - INFO - 🕐 Test started at 2025-09-25 08:39:44
2025-09-25 08:39:44,928 - asyncio - DEBUG - Using selector: KqueueSelector
2025-09-25 08:39:44,929 - __main__ - INFO - ============================================================
2025-09-25 08:39:44,929 - __main__ - INFO - 🚀 Starting WebSocket Debug Test
2025-09-25 08:39:44,929 - __main__ - INFO - ============================================================
2025-09-25 08:39:44,929 - __main__ - INFO - 
📋 Test 1: Establishing Connection
2025-09-25 08:39:44,929 - __main__ - INFO - 🔌 Connecting to ws://localhost:8000/ws/chat
2025-09-25 08:39:44,947 - websockets.client - DEBUG - = connection is CONNECTING
2025-09-25 08:39:44,947 - websockets.client - DEBUG - > GET /ws/chat HTTP/1.1
2025-09-25 08:39:44,947 - websockets.client - DEBUG - > Host: localhost:8000
2025-09-25 08:39:44,947 - websockets.client - DEBUG - > Upgrade: websocket
2025-09-25 08:39:44,947 - websockets.client - DEBUG - > Connection: Upgrade
2025-09-25 08:39:44,947 - websockets.client - DEBUG - > Sec-WebSocket-Key: OBQyEbTaBExcaxiK6vmv/Q==
2025-09-25 08:39:44,948 - websockets.client - DEBUG - > Sec-WebSocket-Version: 13
2025-09-25 08:39:44,948 - websockets.client - DEBUG - > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
2025-09-25 08:39:44,948 - websockets.client - DEBUG - > User-Agent: Python/3.13 websockets/10.4
2025-09-25 08:40:44,463 - __main__ - INFO - 🕐 Test started at 2025-09-25 08:40:44
2025-09-25 08:40:44,463 - asyncio - DEBUG - Using selector: KqueueSelector
2025-09-25 08:40:44,463 - __main__ - INFO - ============================================================
2025-09-25 08:40:44,463 - __main__ - INFO - 🚀 Starting WebSocket Debug Test
2025-09-25 08:40:44,463 - __main__ - INFO - ============================================================
2025-09-25 08:40:44,464 - __main__ - INFO - 
📋 Test 1: Establishing Connection
2025-09-25 08:40:44,464 - __main__ - INFO - 🔌 Connecting to ws://localhost:8000/ws/chat
2025-09-25 08:40:44,484 - websockets.client - DEBUG - = connection is CONNECTING
2025-09-25 08:40:44,485 - websockets.client - DEBUG - > GET /ws/chat HTTP/1.1
2025-09-25 08:40:44,485 - websockets.client - DEBUG - > Host: localhost:8000
2025-09-25 08:40:44,485 - websockets.client - DEBUG - > Upgrade: websocket
2025-09-25 08:40:44,485 - websockets.client - DEBUG - > Connection: Upgrade
2025-09-25 08:40:44,485 - websockets.client - DEBUG - > Sec-WebSocket-Key: cEt2gvyEvv4tLPEmyLsPEQ==
2025-09-25 08:40:44,485 - websockets.client - DEBUG - > Sec-WebSocket-Version: 13
2025-09-25 08:40:44,485 - websockets.client - DEBUG - > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
2025-09-25 08:40:44,485 - websockets.client - DEBUG - > User-Agent: Python/3.13 websockets/10.4
2025-09-25 08:40:44,487 - websockets.client - DEBUG - < HTTP/1.1 101 Switching Protocols
2025-09-25 08:40:44,487 - websockets.client - DEBUG - < Upgrade: websocket
2025-09-25 08:40:44,487 - websockets.client - DEBUG - < Connection: Upgrade
2025-09-25 08:40:44,487 - websockets.client - DEBUG - < Sec-WebSocket-Accept: oBwugVaimBKaF7Wj91xo2qQd0ic=
2025-09-25 08:40:44,487 - websockets.client - DEBUG - < Sec-WebSocket-Extensions: permessage-deflate
2025-09-25 08:40:44,487 - websockets.client - DEBUG - < date: Thu, 25 Sep 2025 06:40:44 GMT
2025-09-25 08:40:44,487 - websockets.client - DEBUG - < server: uvicorn
2025-09-25 08:40:44,487 - websockets.client - DEBUG - = connection is OPEN
2025-09-25 08:40:44,487 - websockets.client - DEBUG - < TEXT '{"type":"connection","status":"connected","clie...09-25T08:40:44.486699"}' [157 bytes]
2025-09-25 08:40:44,487 - __main__ - INFO - ✅ Connected! Client ID: client_0
2025-09-25 08:40:44,487 - __main__ - INFO - 
📋 Test 2: Simple Query
2025-09-25 08:40:44,487 - __main__ - INFO - 📤 Sending task: What agents are available in the system?...
2025-09-25 08:40:44,487 - __main__ - DEBUG - Full message: {
  "type": "chat",
  "content": "What agents are available in the system?",
  "agent": "auto",
  "mode": "auto"
}
2025-09-25 08:40:44,487 - websockets.client - DEBUG - > TEXT '{"type": "chat", "content": "What agents are av..."auto", "mode": "auto"}' [104 bytes]
2025-09-25 08:40:44,489 - websockets.client - DEBUG - < TEXT '{"type":"agent_thinking","agent":"orchestrator"...ator is processing..."}' [95 bytes]
2025-09-25 08:40:44,489 - __main__ - INFO - 💭 Agent thinking: orchestrator
2025-09-25 08:40:45,490 - __main__ - INFO - 
📋 Test 3: Complex Task
2025-09-25 08:40:45,490 - __main__ - INFO - 📤 Sending task: Analyze the WebSocket communication in backend/api/server.py and identify any potential issues...
2025-09-25 08:40:45,491 - __main__ - DEBUG - Full message: {
  "type": "chat",
  "content": "Analyze the WebSocket communication in backend/api/server.py and identify any potential issues",
  "agent": "auto",
  "mode": "auto"
}
2025-09-25 08:40:45,491 - websockets.client - DEBUG - > TEXT '{"type": "chat", "content": "Analyze the WebSoc..."auto", "mode": "auto"}' [158 bytes]
2025-09-25 08:40:46,492 - websockets.client - DEBUG - = connection is CLOSING
2025-09-25 08:40:46,492 - websockets.client - DEBUG - > CLOSE 1000 (OK) [2 bytes]
2025-09-25 08:45:49,230 - __main__ - INFO - 🕐 Test started at 2025-09-25 08:45:49
2025-09-25 08:45:49,230 - asyncio - DEBUG - Using selector: KqueueSelector
2025-09-25 08:45:49,230 - __main__ - INFO - ============================================================
2025-09-25 08:45:49,230 - __main__ - INFO - 🚀 Starting WebSocket Debug Test
2025-09-25 08:45:49,230 - __main__ - INFO - ============================================================
2025-09-25 08:45:49,230 - __main__ - INFO - 
📋 Test 1: Establishing Connection
2025-09-25 08:45:49,230 - __main__ - INFO - 🔌 Connecting to ws://localhost:8000/ws/chat
2025-09-25 08:45:49,250 - __main__ - ERROR - ❌ Connection failed: Multiple exceptions: [Errno 61] Connect call failed ('127.0.0.1', 8000), [Errno 61] Connect call failed ('::1', 8000, 0, 0)
2025-09-25 08:45:49,250 - __main__ - ERROR - Failed to connect. Is the server running on port 8001?
2025-09-25 08:45:49,250 - __main__ - INFO - 
🕐 Test completed at 2025-09-25 08:45:49
2025-09-25 08:46:27,314 - __main__ - INFO - 🕐 Test started at 2025-09-25 08:46:27
2025-09-25 08:46:27,314 - asyncio - DEBUG - Using selector: KqueueSelector
2025-09-25 08:46:27,314 - __main__ - INFO - ============================================================
2025-09-25 08:46:27,314 - __main__ - INFO - 🚀 Starting WebSocket Debug Test
2025-09-25 08:46:27,314 - __main__ - INFO - ============================================================
2025-09-25 08:46:27,314 - __main__ - INFO - 
📋 Test 1: Establishing Connection
2025-09-25 08:46:27,314 - __main__ - INFO - 🔌 Connecting to ws://localhost:8000/ws/chat
2025-09-25 08:46:27,332 - websockets.client - DEBUG - = connection is CONNECTING
2025-09-25 08:46:27,332 - websockets.client - DEBUG - > GET /ws/chat HTTP/1.1
2025-09-25 08:46:27,332 - websockets.client - DEBUG - > Host: localhost:8000
2025-09-25 08:46:27,332 - websockets.client - DEBUG - > Upgrade: websocket
2025-09-25 08:46:27,332 - websockets.client - DEBUG - > Connection: Upgrade
2025-09-25 08:46:27,332 - websockets.client - DEBUG - > Sec-WebSocket-Key: krs0MEbanP8MCHLeQuh97A==
2025-09-25 08:46:27,332 - websockets.client - DEBUG - > Sec-WebSocket-Version: 13
2025-09-25 08:46:27,333 - websockets.client - DEBUG - > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
2025-09-25 08:46:27,333 - websockets.client - DEBUG - > User-Agent: Python/3.13 websockets/10.4
2025-09-25 08:46:27,335 - websockets.client - DEBUG - < HTTP/1.1 101 Switching Protocols
2025-09-25 08:46:27,335 - websockets.client - DEBUG - < Upgrade: websocket
2025-09-25 08:46:27,335 - websockets.client - DEBUG - < Connection: Upgrade
2025-09-25 08:46:27,335 - websockets.client - DEBUG - < Sec-WebSocket-Accept: tBD1IO+SSOYLNjpcQmXUnFPYJbE=
2025-09-25 08:46:27,335 - websockets.client - DEBUG - < Sec-WebSocket-Extensions: permessage-deflate
2025-09-25 08:46:27,335 - websockets.client - DEBUG - < date: Thu, 25 Sep 2025 06:46:26 GMT
2025-09-25 08:46:27,335 - websockets.client - DEBUG - < server: uvicorn
2025-09-25 08:46:27,335 - websockets.client - DEBUG - = connection is OPEN
2025-09-25 08:46:27,335 - websockets.client - DEBUG - < TEXT '{"type":"connection","status":"connected","clie...09-25T08:46:27.334432"}' [157 bytes]
2025-09-25 08:46:27,335 - __main__ - INFO - ✅ Connected! Client ID: client_0
2025-09-25 08:46:27,335 - __main__ - INFO - 
📋 Test 2: Simple Query
2025-09-25 08:46:27,335 - __main__ - INFO - 📤 Sending task: What agents are available in the system?...
2025-09-25 08:46:27,335 - __main__ - DEBUG - Full message: {
  "type": "chat",
  "content": "What agents are available in the system?",
  "agent": "auto",
  "mode": "auto"
}
2025-09-25 08:46:27,335 - websockets.client - DEBUG - > TEXT '{"type": "chat", "content": "What agents are av..."auto", "mode": "auto"}' [104 bytes]
2025-09-25 08:46:27,337 - websockets.client - DEBUG - < TEXT '{"type":"agent_thinking","agent":"orchestrator"...ator is processing..."}' [95 bytes]
2025-09-25 08:46:27,337 - __main__ - INFO - 💭 Agent thinking: orchestrator
2025-09-25 08:46:27,339 - websockets.client - DEBUG - < TEXT '{"type":"agent_progress","agent":"orchestrator"...09-25T08:46:27.338888"}' [132 bytes]
2025-09-25 08:46:27,339 - __main__ - INFO - 📊 Progress from orchestrator: 🤔 Analyzing your request...
2025-09-25 08:46:27,339 - websockets.client - DEBUG - < TEXT '{"type":"agent_progress","agent":"orchestrator"...09-25T08:46:27.338984"}' [136 bytes]
2025-09-25 08:46:27,339 - __main__ - INFO - 📊 Progress from orchestrator: 🎯 Detected complex task: system
2025-09-25 08:46:27,339 - websockets.client - DEBUG - < TEXT '{"type":"agent_progress","agent":"orchestrator"...09-25T08:46:27.339068"}' [150 bytes]
2025-09-25 08:46:27,339 - websockets.client - DEBUG - < TEXT '{"type":"agent_progress","agent":"orchestrator"...09-25T08:46:27.339141"}' [146 bytes]
2025-09-25 08:46:27,339 - __main__ - INFO - 📊 Progress from orchestrator: 🔧 Breaking down your request into subtasks...
2025-09-25 08:46:27,339 - __main__ - INFO - 📊 Progress from orchestrator: 🏗️ Infrastructure task detected: system
2025-09-25 08:46:27,339 - websockets.client - DEBUG - < TEXT '{"type":"agent_progress","agent":"orchestrator"...09-25T08:46:27.339252"}' [148 bytes]
2025-09-25 08:46:27,339 - websockets.client - DEBUG - < TEXT '{"type":"agent_progress","agent":"orchestrator"...09-25T08:46:27.339315"}' [130 bytes]
2025-09-25 08:46:27,339 - __main__ - INFO - 📊 Progress from orchestrator: 🏗️ Created workflow with 6 analysis tasks
2025-09-25 08:46:27,339 - __main__ - INFO - 📊 Progress from orchestrator: 🎯 Executing 6 subtasks...
2025-09-25 08:46:27,341 - websockets.client - DEBUG - < TEXT '{"type":"agent_progress","agent":"architect","c...09-25T08:46:27.341480"}' [144 bytes]
2025-09-25 08:46:27,341 - __main__ - INFO - 📊 Progress from architect: 🏗️ Architect starting system analysis...
2025-09-25 08:46:27,341 - websockets.client - DEBUG - < TEXT '{"type":"agent_progress","agent":"architect","c...09-25T08:46:27.341610"}' [153 bytes]
2025-09-25 08:46:27,341 - __main__ - INFO - 📊 Progress from architect: 🔍 Using understand_system() to analyze workspace...
2025-09-25 08:46:27,342 - websockets.client - DEBUG - < TEXT '{"type":"agent_progress","agent":"architect","c...09-25T08:46:27.342068"}' [153 bytes]
2025-09-25 08:46:27,342 - __main__ - INFO - 📊 Progress from architect: 🏗️ Building comprehensive system understanding...
2025-09-25 08:46:27,342 - websockets.client - DEBUG - < TEXT '{"type":"agent_progress","agent":"architect","c...09-25T08:46:27.342180"}' [150 bytes]
2025-09-25 08:46:27,342 - __main__ - INFO - 📊 Progress from architect: 📂 Phase 1: Indexing codebase with AST parsing...
2025-09-25 08:46:27,346 - websockets.client - DEBUG - < TEXT '{"type":"agent_progress","agent":"architect","c...09-25T08:46:27.346011"}' [165 bytes]
2025-09-25 08:46:27,346 - __main__ - INFO - 📊 Progress from architect: 📂 Phase 1/6: Indexing 58 files (using .gitignore + defaults)...
2025-09-25 08:46:28,346 - __main__ - INFO - 
📋 Test 3: Complex Task
2025-09-25 08:46:28,346 - __main__ - INFO - 📤 Sending task: Analyze the WebSocket communication in backend/api/server.py and identify any potential issues...
2025-09-25 08:46:28,346 - __main__ - DEBUG - Full message: {
  "type": "chat",
  "content": "Analyze the WebSocket communication in backend/api/server.py and identify any potential issues",
  "agent": "auto",
  "mode": "auto"
}
2025-09-25 08:46:28,346 - websockets.client - DEBUG - > TEXT '{"type": "chat", "content": "Analyze the WebSoc..."auto", "mode": "auto"}' [158 bytes]
2025-09-25 08:46:29,348 - websockets.client - DEBUG - = connection is CLOSING
2025-09-25 08:46:29,348 - websockets.client - DEBUG - > CLOSE 1000 (OK) [2 bytes]
2025-10-06 21:26:39,994 - __main__ - INFO - 🕐 Test started at 2025-10-06 21:26:39
2025-10-06 21:26:39,994 - asyncio - DEBUG - Using selector: KqueueSelector
2025-10-06 21:26:39,995 - __main__ - INFO - ============================================================
2025-10-06 21:26:39,995 - __main__ - INFO - 🚀 Starting WebSocket Debug Test
2025-10-06 21:26:39,995 - __main__ - INFO - ============================================================
2025-10-06 21:26:39,995 - __main__ - INFO - 
📋 Test 1: Establishing Connection
2025-10-06 21:26:39,995 - __main__ - INFO - 🔌 Connecting to ws://localhost:8001/ws/chat
2025-10-06 21:26:40,013 - websockets.client - DEBUG - = connection is CONNECTING
2025-10-06 21:26:40,014 - websockets.client - DEBUG - > GET /ws/chat HTTP/1.1
2025-10-06 21:26:40,014 - websockets.client - DEBUG - > Host: localhost:8001
2025-10-06 21:26:40,014 - websockets.client - DEBUG - > Upgrade: websocket
2025-10-06 21:26:40,014 - websockets.client - DEBUG - > Connection: Upgrade
2025-10-06 21:26:40,014 - websockets.client - DEBUG - > Sec-WebSocket-Key: fx7CoY82ahGjFQRTOqZCdg==
2025-10-06 21:26:40,014 - websockets.client - DEBUG - > Sec-WebSocket-Version: 13
2025-10-06 21:26:40,014 - websockets.client - DEBUG - > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
2025-10-06 21:26:40,014 - websockets.client - DEBUG - > User-Agent: Python/3.13 websockets/10.4
2025-10-06 21:26:40,015 - websockets.client - DEBUG - < HTTP/1.1 101 Switching Protocols
2025-10-06 21:26:40,015 - websockets.client - DEBUG - < Upgrade: websocket
2025-10-06 21:26:40,015 - websockets.client - DEBUG - < Connection: Upgrade
2025-10-06 21:26:40,015 - websockets.client - DEBUG - < Sec-WebSocket-Accept: C6plQzsTy28NKACMV0KapXmpH2k=
2025-10-06 21:26:40,016 - websockets.client - DEBUG - < Sec-WebSocket-Extensions: permessage-deflate
2025-10-06 21:26:40,016 - websockets.client - DEBUG - < date: Mon, 06 Oct 2025 19:26:39 GMT
2025-10-06 21:26:40,016 - websockets.client - DEBUG - < server: uvicorn
2025-10-06 21:26:40,016 - websockets.client - DEBUG - = connection is OPEN
2025-10-06 21:26:40,016 - websockets.client - DEBUG - < TEXT '{"type":"connected","message":"Connected to KI ...","requires_init":true}' [277 bytes]
2025-10-06 21:26:40,016 - __main__ - INFO - 📥 Initial message: {
  "type": "connected",
  "message": "Connected to KI AutoAgent LangGraph System v5.8.1. Please send init message with workspace_path.",
  "session_id": "6af712d7-bada-4da4-ae17-98c560762e0f",
  "client_id": "client_35ad5d05",
  "version": "v5.8.1-multi-client-architecture",
  "requires_init": true
}
2025-10-06 21:26:40,016 - __main__ - INFO - 📝 Initialization required, sending workspace path
2025-10-06 21:26:40,016 - websockets.client - DEBUG - > TEXT '{"type": "init", "workspace_path": "/Users/domi...stAIFeatures_20251006"}' [90 bytes]
2025-10-06 21:26:40,017 - websockets.client - DEBUG - < TEXT '{"type":"initialized","session_id":"6af712d7-ba...stAIFeatures_20251006"}' [264 bytes]
2025-10-06 21:26:40,017 - __main__ - INFO - 📥 Init response: {
  "type": "initialized",
  "session_id": "6af712d7-bada-4da4-ae17-98c560762e0f",
  "client_id": "client_35ad5d05",
  "workspace_path": "/Users/dominikfoert/TestApps/TestAIFeatures_20251006",
  "message": "Workspace initialized: /Users/dominikfoert/TestApps/TestAIFeatures_20251006"
}
2025-10-06 21:26:40,017 - __main__ - INFO - ✅ Connected and initialized! Session: 6af712d7-bada-4da4-ae17-98c560762e0f
2025-10-06 21:26:40,017 - __main__ - INFO - 
📋 Test 2: Simple Query
2025-10-06 21:26:40,017 - __main__ - INFO - 📤 Sending task: What agents are available in the system?...
2025-10-06 21:26:40,017 - __main__ - DEBUG - Full message: {
  "type": "chat",
  "content": "What agents are available in the system?",
  "agent": "auto",
  "mode": "auto"
}
2025-10-06 21:26:40,017 - websockets.client - DEBUG - > TEXT '{"type": "chat", "content": "What agents are av..."auto", "mode": "auto"}' [104 bytes]
2025-10-06 21:26:40,017 - websockets.client - DEBUG - < TEXT '{"type":"agent_thinking","agent":"orchestrator"...g LangGraph v5.8.1..."}' [115 bytes]
2025-10-06 21:26:40,017 - __main__ - INFO - 💭 Agent thinking: orchestrator
2025-10-06 21:26:41,018 - __main__ - INFO - 
📋 Test 3: Complex Task
2025-10-06 21:26:41,018 - __main__ - INFO - 📤 Sending task: Analyze the WebSocket communication in backend/api/server.py and identify any potential issues...
2025-10-06 21:26:41,018 - __main__ - DEBUG - Full message: {
  "type": "chat",
  "content": "Analyze the WebSocket communication in backend/api/server.py and identify any potential issues",
  "agent": "auto",
  "mode": "auto"
}
2025-10-06 21:26:41,018 - websockets.client - DEBUG - > TEXT '{"type": "chat", "content": "Analyze the WebSoc..."auto", "mode": "auto"}' [158 bytes]
2025-10-06 21:26:42,020 - websockets.client - DEBUG - = connection is CLOSING
2025-10-06 21:26:42,020 - websockets.client - DEBUG - > CLOSE 1000 (OK) [2 bytes]
2025-10-06 21:26:42,020 - websockets.client - DEBUG - < CLOSE 1000 (OK) [2 bytes]
2025-10-06 21:26:42,020 - websockets.client - DEBUG - = connection is CLOSED
2025-10-06 21:26:42,021 - __main__ - INFO - 🔌 Connection closed
2025-10-06 21:26:42,021 - __main__ - INFO - 
============================================================
2025-10-06 21:26:42,021 - __main__ - INFO - 📊 Test Summary
2025-10-06 21:26:42,021 - __main__ - INFO - ============================================================
2025-10-06 21:26:42,021 - __main__ - INFO - Total messages received: 1
2025-10-06 21:26:42,021 - __main__ - INFO - Message type breakdown:
2025-10-06 21:26:42,021 - __main__ - INFO -   - agent_thinking: 1
2025-10-06 21:26:42,021 - __main__ - INFO - 
✅ Debug Features Verified:
2025-10-06 21:26:42,021 - __main__ - INFO -   - Agent thinking messages: ✓
2025-10-06 21:26:42,021 - __main__ - INFO -   - Progress updates: ✗
2025-10-06 21:26:42,021 - __main__ - INFO -   - Final responses: ✗
2025-10-06 21:26:42,021 - __main__ - INFO - 
📁 Full message log saved to test_websocket_messages.json
2025-10-06 21:26:42,021 - __main__ - INFO - 📁 Debug log saved to test_websocket_debug.log
2025-10-06 21:26:42,022 - __main__ - INFO - 
🕐 Test completed at 2025-10-06 21:26:42
2025-10-06 21:30:24,870 - __main__ - INFO - 🕐 Test started at 2025-10-06 21:30:24
2025-10-06 21:30:24,870 - asyncio - DEBUG - Using selector: KqueueSelector
2025-10-06 21:30:24,871 - __main__ - INFO - ============================================================
2025-10-06 21:30:24,871 - __main__ - INFO - 🚀 Starting WebSocket Debug Test
2025-10-06 21:30:24,871 - __main__ - INFO - ============================================================
2025-10-06 21:30:24,871 - __main__ - INFO - 
📋 Test 1: Establishing Connection
2025-10-06 21:30:24,871 - __main__ - INFO - 🔌 Connecting to ws://localhost:8001/ws/chat
2025-10-06 21:30:24,891 - websockets.client - DEBUG - = connection is CONNECTING
2025-10-06 21:30:24,891 - websockets.client - DEBUG - > GET /ws/chat HTTP/1.1
2025-10-06 21:30:24,891 - websockets.client - DEBUG - > Host: localhost:8001
2025-10-06 21:30:24,891 - websockets.client - DEBUG - > Upgrade: websocket
2025-10-06 21:30:24,891 - websockets.client - DEBUG - > Connection: Upgrade
2025-10-06 21:30:24,891 - websockets.client - DEBUG - > Sec-WebSocket-Key: jIX53rpjDiKCZ7009kehHA==
2025-10-06 21:30:24,891 - websockets.client - DEBUG - > Sec-WebSocket-Version: 13
2025-10-06 21:30:24,891 - websockets.client - DEBUG - > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
2025-10-06 21:30:24,892 - websockets.client - DEBUG - > User-Agent: Python/3.13 websockets/10.4
2025-10-06 21:30:24,894 - websockets.client - DEBUG - < HTTP/1.1 101 Switching Protocols
2025-10-06 21:30:24,894 - websockets.client - DEBUG - < Upgrade: websocket
2025-10-06 21:30:24,894 - websockets.client - DEBUG - < Connection: Upgrade
2025-10-06 21:30:24,894 - websockets.client - DEBUG - < Sec-WebSocket-Accept: 3/CoiKw0rdXfZ1yKfWYtUf8K2Gw=
2025-10-06 21:30:24,894 - websockets.client - DEBUG - < Sec-WebSocket-Extensions: permessage-deflate
2025-10-06 21:30:24,894 - websockets.client - DEBUG - < date: Mon, 06 Oct 2025 19:30:24 GMT
2025-10-06 21:30:24,894 - websockets.client - DEBUG - < server: uvicorn
2025-10-06 21:30:24,894 - websockets.client - DEBUG - = connection is OPEN
2025-10-06 21:30:24,894 - websockets.client - DEBUG - < TEXT '{"type":"connected","message":"Connected to KI ...","requires_init":true}' [277 bytes]
2025-10-06 21:30:24,894 - __main__ - INFO - 📥 Initial message: {
  "type": "connected",
  "message": "Connected to KI AutoAgent LangGraph System v5.8.1. Please send init message with workspace_path.",
  "session_id": "bbae6ef9-a3a4-4d5d-8c67-0ff7df797cb8",
  "client_id": "client_64e6361f",
  "version": "v5.8.1-multi-client-architecture",
  "requires_init": true
}
2025-10-06 21:30:24,894 - __main__ - INFO - 📝 Initialization required, sending workspace path
2025-10-06 21:30:24,894 - websockets.client - DEBUG - > TEXT '{"type": "init", "workspace_path": "/Users/domi...stAIFeatures_20251006"}' [90 bytes]
2025-10-06 21:30:24,895 - websockets.client - DEBUG - < TEXT '{"type":"initialized","session_id":"bbae6ef9-a3...stAIFeatures_20251006"}' [264 bytes]
2025-10-06 21:30:24,895 - __main__ - INFO - 📥 Init response: {
  "type": "initialized",
  "session_id": "bbae6ef9-a3a4-4d5d-8c67-0ff7df797cb8",
  "client_id": "client_64e6361f",
  "workspace_path": "/Users/dominikfoert/TestApps/TestAIFeatures_20251006",
  "message": "Workspace initialized: /Users/dominikfoert/TestApps/TestAIFeatures_20251006"
}
2025-10-06 21:30:24,895 - __main__ - INFO - ✅ Connected and initialized! Session: bbae6ef9-a3a4-4d5d-8c67-0ff7df797cb8
2025-10-06 21:30:24,895 - __main__ - INFO - 
📋 Test 2: Simple Query
2025-10-06 21:30:24,895 - __main__ - INFO - 📤 Sending task: What agents are available in the system?...
2025-10-06 21:30:24,895 - __main__ - DEBUG - Full message: {
  "type": "chat",
  "content": "What agents are available in the system?",
  "agent": "auto",
  "mode": "auto"
}
2025-10-06 21:30:24,895 - websockets.client - DEBUG - > TEXT '{"type": "chat", "content": "What agents are av..."auto", "mode": "auto"}' [104 bytes]
2025-10-06 21:30:24,895 - websockets.client - DEBUG - < TEXT '{"type":"agent_thinking","agent":"orchestrator"...g LangGraph v5.8.1..."}' [115 bytes]
2025-10-06 21:30:24,896 - __main__ - INFO - 💭 Agent thinking: orchestrator
2025-10-06 21:30:25,897 - __main__ - INFO - 
📋 Test 3: Complex Task
2025-10-06 21:30:25,897 - __main__ - INFO - 📤 Sending task: Analyze the WebSocket communication in backend/api/server.py and identify any potential issues...
2025-10-06 21:30:25,897 - __main__ - DEBUG - Full message: {
  "type": "chat",
  "content": "Analyze the WebSocket communication in backend/api/server.py and identify any potential issues",
  "agent": "auto",
  "mode": "auto"
}
2025-10-06 21:30:25,898 - websockets.client - DEBUG - > TEXT '{"type": "chat", "content": "Analyze the WebSoc..."auto", "mode": "auto"}' [158 bytes]
2025-10-06 21:30:26,899 - websockets.client - DEBUG - = connection is CLOSING
2025-10-06 21:30:26,899 - websockets.client - DEBUG - > CLOSE 1000 (OK) [2 bytes]
2025-10-06 21:30:26,900 - websockets.client - DEBUG - < CLOSE 1000 (OK) [2 bytes]
2025-10-06 21:30:26,900 - websockets.client - DEBUG - = connection is CLOSED
2025-10-06 21:30:26,901 - __main__ - INFO - 🔌 Connection closed
2025-10-06 21:30:26,901 - __main__ - INFO - 
============================================================
2025-10-06 21:30:26,901 - __main__ - INFO - 📊 Test Summary
2025-10-06 21:30:26,901 - __main__ - INFO - ============================================================
2025-10-06 21:30:26,901 - __main__ - INFO - Total messages received: 1
2025-10-06 21:30:26,901 - __main__ - INFO - Message type breakdown:
2025-10-06 21:30:26,901 - __main__ - INFO -   - agent_thinking: 1
2025-10-06 21:30:26,901 - __main__ - INFO - 
✅ Debug Features Verified:
2025-10-06 21:30:26,901 - __main__ - INFO -   - Agent thinking messages: ✓
2025-10-06 21:30:26,901 - __main__ - INFO -   - Progress updates: ✗
2025-10-06 21:30:26,901 - __main__ - INFO -   - Final responses: ✗
2025-10-06 21:30:26,901 - __main__ - INFO - 
📁 Full message log saved to test_websocket_messages.json
2025-10-06 21:30:26,901 - __main__ - INFO - 📁 Debug log saved to test_websocket_debug.log
2025-10-06 21:30:26,902 - __main__ - INFO - 
🕐 Test completed at 2025-10-06 21:30:26
2025-10-06 21:34:19,867 - __main__ - INFO - 🕐 Test started at 2025-10-06 21:34:19
2025-10-06 21:34:19,868 - asyncio - DEBUG - Using selector: KqueueSelector
2025-10-06 21:34:19,868 - __main__ - INFO - ============================================================
2025-10-06 21:34:19,868 - __main__ - INFO - 🚀 Starting WebSocket Debug Test
2025-10-06 21:34:19,868 - __main__ - INFO - ============================================================
2025-10-06 21:34:19,868 - __main__ - INFO - 
📋 Test 1: Establishing Connection
2025-10-06 21:34:19,868 - __main__ - INFO - 🔌 Connecting to ws://localhost:8001/ws/chat
2025-10-06 21:34:19,888 - websockets.client - DEBUG - = connection is CONNECTING
2025-10-06 21:34:19,888 - websockets.client - DEBUG - > GET /ws/chat HTTP/1.1
2025-10-06 21:34:19,888 - websockets.client - DEBUG - > Host: localhost:8001
2025-10-06 21:34:19,888 - websockets.client - DEBUG - > Upgrade: websocket
2025-10-06 21:34:19,888 - websockets.client - DEBUG - > Connection: Upgrade
2025-10-06 21:34:19,888 - websockets.client - DEBUG - > Sec-WebSocket-Key: eBr1acIWP0guIZC/TKBd2w==
2025-10-06 21:34:19,888 - websockets.client - DEBUG - > Sec-WebSocket-Version: 13
2025-10-06 21:34:19,888 - websockets.client - DEBUG - > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
2025-10-06 21:34:19,888 - websockets.client - DEBUG - > User-Agent: Python/3.13 websockets/10.4
2025-10-06 21:34:19,890 - websockets.client - DEBUG - < HTTP/1.1 101 Switching Protocols
2025-10-06 21:34:19,890 - websockets.client - DEBUG - < Upgrade: websocket
2025-10-06 21:34:19,891 - websockets.client - DEBUG - < Connection: Upgrade
2025-10-06 21:34:19,891 - websockets.client - DEBUG - < Sec-WebSocket-Accept: 1I/D5JUbFn4idKbx403SI3mvXbA=
2025-10-06 21:34:19,891 - websockets.client - DEBUG - < Sec-WebSocket-Extensions: permessage-deflate
2025-10-06 21:34:19,891 - websockets.client - DEBUG - < date: Mon, 06 Oct 2025 19:34:19 GMT
2025-10-06 21:34:19,891 - websockets.client - DEBUG - < server: uvicorn
2025-10-06 21:34:19,891 - websockets.client - DEBUG - = connection is OPEN
2025-10-06 21:34:19,891 - websockets.client - DEBUG - < TEXT '{"type":"connected","message":"Connected to KI ...","requires_init":true}' [277 bytes]
2025-10-06 21:34:19,891 - __main__ - INFO - 📥 Initial message: {
  "type": "connected",
  "message": "Connected to KI AutoAgent LangGraph System v5.8.1. Please send init message with workspace_path.",
  "session_id": "e8e6140d-077c-456a-99b1-5d343a74377f",
  "client_id": "client_4448e067",
  "version": "v5.8.1-multi-client-architecture",
  "requires_init": true
}
2025-10-06 21:34:19,891 - __main__ - INFO - 📝 Initialization required, sending workspace path
2025-10-06 21:34:19,891 - websockets.client - DEBUG - > TEXT '{"type": "init", "workspace_path": "/Users/domi...stAIFeatures_20251006"}' [90 bytes]
2025-10-06 21:34:19,892 - websockets.client - DEBUG - < TEXT '{"type":"initialized","session_id":"e8e6140d-07...stAIFeatures_20251006"}' [264 bytes]
2025-10-06 21:34:19,892 - __main__ - INFO - 📥 Init response: {
  "type": "initialized",
  "session_id": "e8e6140d-077c-456a-99b1-5d343a74377f",
  "client_id": "client_4448e067",
  "workspace_path": "/Users/dominikfoert/TestApps/TestAIFeatures_20251006",
  "message": "Workspace initialized: /Users/dominikfoert/TestApps/TestAIFeatures_20251006"
}
2025-10-06 21:34:19,892 - __main__ - INFO - ✅ Connected and initialized! Session: e8e6140d-077c-456a-99b1-5d343a74377f
2025-10-06 21:34:19,892 - __main__ - INFO - 
📋 Test 2: Simple Query
2025-10-06 21:34:19,892 - __main__ - INFO - 📤 Sending task: What agents are available in the system?...
2025-10-06 21:34:19,892 - __main__ - DEBUG - Full message: {
  "type": "chat",
  "content": "What agents are available in the system?",
  "agent": "auto",
  "mode": "auto"
}
2025-10-06 21:34:19,892 - websockets.client - DEBUG - > TEXT '{"type": "chat", "content": "What agents are av..."auto", "mode": "auto"}' [104 bytes]
2025-10-06 21:34:19,892 - websockets.client - DEBUG - < TEXT '{"type":"agent_thinking","agent":"orchestrator"...g LangGraph v5.8.1..."}' [115 bytes]
2025-10-06 21:34:19,893 - __main__ - INFO - 💭 Agent thinking: orchestrator
2025-10-06 21:34:20,894 - __main__ - INFO - 
📋 Test 3: Complex Task
2025-10-06 21:34:20,894 - __main__ - INFO - 📤 Sending task: Analyze the WebSocket communication in backend/api/server.py and identify any potential issues...
2025-10-06 21:34:20,894 - __main__ - DEBUG - Full message: {
  "type": "chat",
  "content": "Analyze the WebSocket communication in backend/api/server.py and identify any potential issues",
  "agent": "auto",
  "mode": "auto"
}
2025-10-06 21:34:20,894 - websockets.client - DEBUG - > TEXT '{"type": "chat", "content": "Analyze the WebSoc..."auto", "mode": "auto"}' [158 bytes]
2025-10-06 21:34:21,896 - websockets.client - DEBUG - = connection is CLOSING
2025-10-06 21:34:21,896 - websockets.client - DEBUG - > CLOSE 1000 (OK) [2 bytes]
2025-10-06 21:34:21,897 - websockets.client - DEBUG - < CLOSE 1000 (OK) [2 bytes]
2025-10-06 21:34:21,899 - websockets.client - DEBUG - = connection is CLOSED
2025-10-06 21:34:21,899 - __main__ - INFO - 🔌 Connection closed
2025-10-06 21:34:21,900 - __main__ - INFO - 
============================================================
2025-10-06 21:34:21,900 - __main__ - INFO - 📊 Test Summary
2025-10-06 21:34:21,900 - __main__ - INFO - ============================================================
2025-10-06 21:34:21,900 - __main__ - INFO - Total messages received: 1
2025-10-06 21:34:21,900 - __main__ - INFO - Message type breakdown:
2025-10-06 21:34:21,900 - __main__ - INFO -   - agent_thinking: 1
2025-10-06 21:34:21,900 - __main__ - INFO - 
✅ Debug Features Verified:
2025-10-06 21:34:21,900 - __main__ - INFO -   - Agent thinking messages: ✓
2025-10-06 21:34:21,900 - __main__ - INFO -   - Progress updates: ✗
2025-10-06 21:34:21,900 - __main__ - INFO -   - Final responses: ✗
2025-10-06 21:34:21,900 - __main__ - INFO - 
📁 Full message log saved to test_websocket_messages.json
2025-10-06 21:34:21,900 - __main__ - INFO - 📁 Debug log saved to test_websocket_debug.log
2025-10-06 21:34:21,900 - __main__ - INFO - 
🕐 Test completed at 2025-10-06 21:34:21
2025-10-06 21:41:20,775 - __main__ - INFO - 🕐 Test started at 2025-10-06 21:41:20
2025-10-06 21:41:20,775 - asyncio - DEBUG - Using selector: KqueueSelector
2025-10-06 21:41:20,776 - __main__ - INFO - ============================================================
2025-10-06 21:41:20,776 - __main__ - INFO - 🚀 Starting WebSocket Debug Test
2025-10-06 21:41:20,776 - __main__ - INFO - ============================================================
2025-10-06 21:41:20,776 - __main__ - INFO - 
📋 Test 1: Establishing Connection
2025-10-06 21:41:20,776 - __main__ - INFO - 🔌 Connecting to ws://localhost:8001/ws/chat
2025-10-06 21:41:20,795 - websockets.client - DEBUG - = connection is CONNECTING
2025-10-06 21:41:20,796 - websockets.client - DEBUG - > GET /ws/chat HTTP/1.1
2025-10-06 21:41:20,796 - websockets.client - DEBUG - > Host: localhost:8001
2025-10-06 21:41:20,796 - websockets.client - DEBUG - > Upgrade: websocket
2025-10-06 21:41:20,796 - websockets.client - DEBUG - > Connection: Upgrade
2025-10-06 21:41:20,796 - websockets.client - DEBUG - > Sec-WebSocket-Key: 0MZCNhpD170vX7SQzsTJ0w==
2025-10-06 21:41:20,796 - websockets.client - DEBUG - > Sec-WebSocket-Version: 13
2025-10-06 21:41:20,796 - websockets.client - DEBUG - > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
2025-10-06 21:41:20,796 - websockets.client - DEBUG - > User-Agent: Python/3.13 websockets/10.4
2025-10-06 21:41:20,798 - websockets.client - DEBUG - < HTTP/1.1 101 Switching Protocols
2025-10-06 21:41:20,798 - websockets.client - DEBUG - < Upgrade: websocket
2025-10-06 21:41:20,798 - websockets.client - DEBUG - < Connection: Upgrade
2025-10-06 21:41:20,798 - websockets.client - DEBUG - < Sec-WebSocket-Accept: bs0qraCLfzSUYN+dAXv74fJ5t3M=
2025-10-06 21:41:20,798 - websockets.client - DEBUG - < Sec-WebSocket-Extensions: permessage-deflate
2025-10-06 21:41:20,798 - websockets.client - DEBUG - < date: Mon, 06 Oct 2025 19:41:20 GMT
2025-10-06 21:41:20,798 - websockets.client - DEBUG - < server: uvicorn
2025-10-06 21:41:20,798 - websockets.client - DEBUG - = connection is OPEN
2025-10-06 21:41:20,798 - websockets.client - DEBUG - < TEXT '{"type":"connected","message":"Connected to KI ...","requires_init":true}' [277 bytes]
2025-10-06 21:41:20,798 - __main__ - INFO - 📥 Initial message: {
  "type": "connected",
  "message": "Connected to KI AutoAgent LangGraph System v5.8.1. Please send init message with workspace_path.",
  "session_id": "c2a3bb34-e4b1-4af9-aefa-061d128ddb1d",
  "client_id": "client_4cb68f25",
  "version": "v5.8.1-multi-client-architecture",
  "requires_init": true
}
2025-10-06 21:41:20,798 - __main__ - INFO - 📝 Initialization required, sending workspace path
2025-10-06 21:41:20,798 - websockets.client - DEBUG - > TEXT '{"type": "init", "workspace_path": "/Users/domi...stAIFeatures_20251006"}' [90 bytes]
2025-10-06 21:41:20,799 - websockets.client - DEBUG - < TEXT '{"type":"initialized","session_id":"c2a3bb34-e4...stAIFeatures_20251006"}' [264 bytes]
2025-10-06 21:41:20,799 - __main__ - INFO - 📥 Init response: {
  "type": "initialized",
  "session_id": "c2a3bb34-e4b1-4af9-aefa-061d128ddb1d",
  "client_id": "client_4cb68f25",
  "workspace_path": "/Users/dominikfoert/TestApps/TestAIFeatures_20251006",
  "message": "Workspace initialized: /Users/dominikfoert/TestApps/TestAIFeatures_20251006"
}
2025-10-06 21:41:20,799 - __main__ - INFO - ✅ Connected and initialized! Session: c2a3bb34-e4b1-4af9-aefa-061d128ddb1d
2025-10-06 21:41:20,799 - __main__ - INFO - 
📋 Test 2: Simple Query
2025-10-06 21:41:20,799 - __main__ - INFO - 📤 Sending task: What agents are available in the system?...
2025-10-06 21:41:20,799 - __main__ - DEBUG - Full message: {
  "type": "chat",
  "content": "What agents are available in the system?",
  "agent": "auto",
  "mode": "auto"
}
2025-10-06 21:41:20,799 - websockets.client - DEBUG - > TEXT '{"type": "chat", "content": "What agents are av..."auto", "mode": "auto"}' [104 bytes]
2025-10-06 21:41:20,799 - websockets.client - DEBUG - < TEXT '{"type":"agent_thinking","agent":"orchestrator"...g LangGraph v5.8.1..."}' [115 bytes]
2025-10-06 21:41:20,800 - __main__ - INFO - 💭 Agent thinking: orchestrator
2025-10-06 21:41:21,801 - __main__ - INFO - 
📋 Test 3: Complex Task
2025-10-06 21:41:21,801 - __main__ - INFO - 📤 Sending task: Analyze the WebSocket communication in backend/api/server.py and identify any potential issues...
2025-10-06 21:41:21,802 - __main__ - DEBUG - Full message: {
  "type": "chat",
  "content": "Analyze the WebSocket communication in backend/api/server.py and identify any potential issues",
  "agent": "auto",
  "mode": "auto"
}
2025-10-06 21:41:21,802 - websockets.client - DEBUG - > TEXT '{"type": "chat", "content": "Analyze the WebSoc..."auto", "mode": "auto"}' [158 bytes]
2025-10-06 21:41:22,804 - websockets.client - DEBUG - = connection is CLOSING
2025-10-06 21:41:22,804 - websockets.client - DEBUG - > CLOSE 1000 (OK) [2 bytes]
2025-10-06 21:41:22,805 - websockets.client - DEBUG - < CLOSE 1000 (OK) [2 bytes]
2025-10-06 21:41:22,805 - websockets.client - DEBUG - = connection is CLOSED
2025-10-06 21:41:22,805 - __main__ - INFO - 🔌 Connection closed
2025-10-06 21:41:22,805 - __main__ - INFO - 
============================================================
2025-10-06 21:41:22,805 - __main__ - INFO - 📊 Test Summary
2025-10-06 21:41:22,805 - __main__ - INFO - ============================================================
2025-10-06 21:41:22,805 - __main__ - INFO - Total messages received: 1
2025-10-06 21:41:22,805 - __main__ - INFO - Message type breakdown:
2025-10-06 21:41:22,805 - __main__ - INFO -   - agent_thinking: 1
2025-10-06 21:41:22,805 - __main__ - INFO - 
✅ Debug Features Verified:
2025-10-06 21:41:22,805 - __main__ - INFO -   - Agent thinking messages: ✓
2025-10-06 21:41:22,805 - __main__ - INFO -   - Progress updates: ✗
2025-10-06 21:41:22,805 - __main__ - INFO -   - Final responses: ✗
2025-10-06 21:41:22,806 - __main__ - INFO - 
📁 Full message log saved to test_websocket_messages.json
2025-10-06 21:41:22,806 - __main__ - INFO - 📁 Debug log saved to test_websocket_debug.log
2025-10-06 21:41:22,806 - __main__ - INFO - 
🕐 Test completed at 2025-10-06 21:41:22
2025-10-06 21:46:03,932 - __main__ - INFO - 🕐 Test started at 2025-10-06 21:46:03
2025-10-06 21:46:03,932 - asyncio - DEBUG - Using selector: KqueueSelector
2025-10-06 21:46:03,932 - __main__ - INFO - ============================================================
2025-10-06 21:46:03,932 - __main__ - INFO - 🚀 Starting WebSocket Debug Test
2025-10-06 21:46:03,932 - __main__ - INFO - ============================================================
2025-10-06 21:46:03,932 - __main__ - INFO - 
📋 Test 1: Establishing Connection
2025-10-06 21:46:03,932 - __main__ - INFO - 🔌 Connecting to ws://localhost:8001/ws/chat
2025-10-06 21:46:03,953 - websockets.client - DEBUG - = connection is CONNECTING
2025-10-06 21:46:03,953 - websockets.client - DEBUG - > GET /ws/chat HTTP/1.1
2025-10-06 21:46:03,953 - websockets.client - DEBUG - > Host: localhost:8001
2025-10-06 21:46:03,953 - websockets.client - DEBUG - > Upgrade: websocket
2025-10-06 21:46:03,953 - websockets.client - DEBUG - > Connection: Upgrade
2025-10-06 21:46:03,953 - websockets.client - DEBUG - > Sec-WebSocket-Key: SD9OiGOwjRCGse0aUE+1xg==
2025-10-06 21:46:03,953 - websockets.client - DEBUG - > Sec-WebSocket-Version: 13
2025-10-06 21:46:03,953 - websockets.client - DEBUG - > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
2025-10-06 21:46:03,953 - websockets.client - DEBUG - > User-Agent: Python/3.13 websockets/10.4
2025-10-06 21:46:03,955 - websockets.client - DEBUG - < HTTP/1.1 101 Switching Protocols
2025-10-06 21:46:03,955 - websockets.client - DEBUG - < Upgrade: websocket
2025-10-06 21:46:03,955 - websockets.client - DEBUG - < Connection: Upgrade
2025-10-06 21:46:03,955 - websockets.client - DEBUG - < Sec-WebSocket-Accept: Degl7ONiomI12Lm8PCMgoCgAXSY=
2025-10-06 21:46:03,955 - websockets.client - DEBUG - < Sec-WebSocket-Extensions: permessage-deflate
2025-10-06 21:46:03,955 - websockets.client - DEBUG - < date: Mon, 06 Oct 2025 19:46:03 GMT
2025-10-06 21:46:03,955 - websockets.client - DEBUG - < server: uvicorn
2025-10-06 21:46:03,955 - websockets.client - DEBUG - = connection is OPEN
2025-10-06 21:46:03,955 - websockets.client - DEBUG - < TEXT '{"type":"connected","message":"Connected to KI ...","requires_init":true}' [277 bytes]
2025-10-06 21:46:03,955 - __main__ - INFO - 📥 Initial message: {
  "type": "connected",
  "message": "Connected to KI AutoAgent LangGraph System v5.8.1. Please send init message with workspace_path.",
  "session_id": "402424d1-19d6-4cb8-b6ce-f19a1dedd5c9",
  "client_id": "client_e6c399e9",
  "version": "v5.8.1-multi-client-architecture",
  "requires_init": true
}
2025-10-06 21:46:03,956 - __main__ - INFO - 📝 Initialization required, sending workspace path
2025-10-06 21:46:03,956 - websockets.client - DEBUG - > TEXT '{"type": "init", "workspace_path": "/Users/domi...stAIFeatures_20251006"}' [90 bytes]
2025-10-06 21:46:03,956 - websockets.client - DEBUG - < TEXT '{"type":"initialized","session_id":"402424d1-19...stAIFeatures_20251006"}' [264 bytes]
2025-10-06 21:46:03,956 - __main__ - INFO - 📥 Init response: {
  "type": "initialized",
  "session_id": "402424d1-19d6-4cb8-b6ce-f19a1dedd5c9",
  "client_id": "client_e6c399e9",
  "workspace_path": "/Users/dominikfoert/TestApps/TestAIFeatures_20251006",
  "message": "Workspace initialized: /Users/dominikfoert/TestApps/TestAIFeatures_20251006"
}
2025-10-06 21:46:03,956 - __main__ - INFO - ✅ Connected and initialized! Session: 402424d1-19d6-4cb8-b6ce-f19a1dedd5c9
2025-10-06 21:46:03,956 - __main__ - INFO - 
📋 Test 2: Simple Query
2025-10-06 21:46:03,956 - __main__ - INFO - 📤 Sending task: What agents are available in the system?...
2025-10-06 21:46:03,956 - __main__ - DEBUG - Full message: {
  "type": "chat",
  "content": "What agents are available in the system?",
  "agent": "auto",
  "mode": "auto"
}
2025-10-06 21:46:03,956 - websockets.client - DEBUG - > TEXT '{"type": "chat", "content": "What agents are av..."auto", "mode": "auto"}' [104 bytes]
2025-10-06 21:46:03,957 - websockets.client - DEBUG - < TEXT '{"type":"agent_thinking","agent":"orchestrator"...g LangGraph v5.8.1..."}' [115 bytes]
2025-10-06 21:46:03,957 - __main__ - INFO - 💭 Agent thinking: orchestrator
2025-10-06 21:46:04,959 - __main__ - INFO - 
📋 Test 3: Complex Task
2025-10-06 21:46:04,959 - __main__ - INFO - 📤 Sending task: Analyze the WebSocket communication in backend/api/server.py and identify any potential issues...
2025-10-06 21:46:04,959 - __main__ - DEBUG - Full message: {
  "type": "chat",
  "content": "Analyze the WebSocket communication in backend/api/server.py and identify any potential issues",
  "agent": "auto",
  "mode": "auto"
}
2025-10-06 21:46:04,959 - websockets.client - DEBUG - > TEXT '{"type": "chat", "content": "Analyze the WebSoc..."auto", "mode": "auto"}' [158 bytes]
2025-10-06 21:46:05,962 - websockets.client - DEBUG - = connection is CLOSING
2025-10-06 21:46:05,962 - websockets.client - DEBUG - > CLOSE 1000 (OK) [2 bytes]
2025-10-06 21:46:05,963 - websockets.client - DEBUG - < CLOSE 1000 (OK) [2 bytes]
2025-10-06 21:46:05,964 - websockets.client - DEBUG - = connection is CLOSED
2025-10-06 21:46:05,965 - __main__ - INFO - 🔌 Connection closed
2025-10-06 21:46:05,965 - __main__ - INFO - 
============================================================
2025-10-06 21:46:05,965 - __main__ - INFO - 📊 Test Summary
2025-10-06 21:46:05,965 - __main__ - INFO - ============================================================
2025-10-06 21:46:05,965 - __main__ - INFO - Total messages received: 1
2025-10-06 21:46:05,965 - __main__ - INFO - Message type breakdown:
2025-10-06 21:46:05,965 - __main__ - INFO -   - agent_thinking: 1
2025-10-06 21:46:05,965 - __main__ - INFO - 
✅ Debug Features Verified:
2025-10-06 21:46:05,965 - __main__ - INFO -   - Agent thinking messages: ✓
2025-10-06 21:46:05,965 - __main__ - INFO -   - Progress updates: ✗
2025-10-06 21:46:05,965 - __main__ - INFO -   - Final responses: ✗
2025-10-06 21:46:05,966 - __main__ - INFO - 
📁 Full message log saved to test_websocket_messages.json
2025-10-06 21:46:05,966 - __main__ - INFO - 📁 Debug log saved to test_websocket_debug.log
2025-10-06 21:46:05,966 - __main__ - INFO - 
🕐 Test completed at 2025-10-06 21:46:05
2025-10-06 21:46:49,523 - __main__ - INFO - 🕐 Test started at 2025-10-06 21:46:49
2025-10-06 21:46:49,523 - asyncio - DEBUG - Using selector: KqueueSelector
2025-10-06 21:46:49,523 - __main__ - INFO - ============================================================
2025-10-06 21:46:49,523 - __main__ - INFO - 🚀 Starting WebSocket Debug Test
2025-10-06 21:46:49,523 - __main__ - INFO - ============================================================
2025-10-06 21:46:49,523 - __main__ - INFO - 
📋 Test 1: Establishing Connection
2025-10-06 21:46:49,523 - __main__ - INFO - 🔌 Connecting to ws://localhost:8001/ws/chat
2025-10-06 21:46:49,543 - websockets.client - DEBUG - = connection is CONNECTING
2025-10-06 21:46:49,543 - websockets.client - DEBUG - > GET /ws/chat HTTP/1.1
2025-10-06 21:46:49,543 - websockets.client - DEBUG - > Host: localhost:8001
2025-10-06 21:46:49,543 - websockets.client - DEBUG - > Upgrade: websocket
2025-10-06 21:46:49,543 - websockets.client - DEBUG - > Connection: Upgrade
2025-10-06 21:46:49,543 - websockets.client - DEBUG - > Sec-WebSocket-Key: hFkCIifmpxZZBdKb/5keYA==
2025-10-06 21:46:49,543 - websockets.client - DEBUG - > Sec-WebSocket-Version: 13
2025-10-06 21:46:49,543 - websockets.client - DEBUG - > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
2025-10-06 21:46:49,543 - websockets.client - DEBUG - > User-Agent: Python/3.13 websockets/10.4
2025-10-06 21:46:49,544 - websockets.client - DEBUG - < HTTP/1.1 101 Switching Protocols
2025-10-06 21:46:49,544 - websockets.client - DEBUG - < Upgrade: websocket
2025-10-06 21:46:49,544 - websockets.client - DEBUG - < Connection: Upgrade
2025-10-06 21:46:49,544 - websockets.client - DEBUG - < Sec-WebSocket-Accept: G+fZOMLDztiOE3FkKbdxzAgdTCg=
2025-10-06 21:46:49,544 - websockets.client - DEBUG - < Sec-WebSocket-Extensions: permessage-deflate
2025-10-06 21:46:49,544 - websockets.client - DEBUG - < date: Mon, 06 Oct 2025 19:46:49 GMT
2025-10-06 21:46:49,544 - websockets.client - DEBUG - < server: uvicorn
2025-10-06 21:46:49,544 - websockets.client - DEBUG - = connection is OPEN
2025-10-06 21:46:49,544 - websockets.client - DEBUG - < TEXT '{"type":"connected","message":"Connected to KI ...","requires_init":true}' [277 bytes]
2025-10-06 21:46:49,545 - __main__ - INFO - 📥 Initial message: {
  "type": "connected",
  "message": "Connected to KI AutoAgent LangGraph System v5.8.1. Please send init message with workspace_path.",
  "session_id": "beb82c6f-d755-4523-8409-af420525d7a2",
  "client_id": "client_5c0990b0",
  "version": "v5.8.1-multi-client-architecture",
  "requires_init": true
}
2025-10-06 21:46:49,545 - __main__ - INFO - 📝 Initialization required, sending workspace path
2025-10-06 21:46:49,545 - websockets.client - DEBUG - > TEXT '{"type": "init", "workspace_path": "/Users/domi...stAIFeatures_20251006"}' [90 bytes]
2025-10-06 21:46:49,545 - websockets.client - DEBUG - < TEXT '{"type":"initialized","session_id":"beb82c6f-d7...stAIFeatures_20251006"}' [264 bytes]
2025-10-06 21:46:49,545 - __main__ - INFO - 📥 Init response: {
  "type": "initialized",
  "session_id": "beb82c6f-d755-4523-8409-af420525d7a2",
  "client_id": "client_5c0990b0",
  "workspace_path": "/Users/dominikfoert/TestApps/TestAIFeatures_20251006",
  "message": "Workspace initialized: /Users/dominikfoert/TestApps/TestAIFeatures_20251006"
}
2025-10-06 21:46:49,545 - __main__ - INFO - ✅ Connected and initialized! Session: beb82c6f-d755-4523-8409-af420525d7a2
2025-10-06 21:46:49,545 - __main__ - INFO - 
📋 Test 2: Simple Query
2025-10-06 21:46:49,545 - __main__ - INFO - 📤 Sending task: What agents are available in the system?...
2025-10-06 21:46:49,545 - __main__ - DEBUG - Full message: {
  "type": "chat",
  "content": "What agents are available in the system?",
  "agent": "auto",
  "mode": "auto"
}
2025-10-06 21:46:49,545 - websockets.client - DEBUG - > TEXT '{"type": "chat", "content": "What agents are av..."auto", "mode": "auto"}' [104 bytes]
2025-10-06 21:46:49,546 - websockets.client - DEBUG - < TEXT '{"type":"agent_thinking","agent":"orchestrator"...g LangGraph v5.8.1..."}' [115 bytes]
2025-10-06 21:46:49,546 - __main__ - INFO - 💭 Agent thinking: orchestrator
2025-10-06 21:46:50,547 - __main__ - INFO - 
⏳ Waiting 3 seconds before next task...
2025-10-06 21:46:53,549 - websockets.client - DEBUG - = connection is CLOSING
2025-10-06 21:46:53,549 - websockets.client - DEBUG - > CLOSE 1000 (OK) [2 bytes]
2025-10-06 21:46:53,550 - websockets.client - DEBUG - < CLOSE 1000 (OK) [2 bytes]
2025-10-06 21:46:53,550 - websockets.client - DEBUG - = connection is CLOSED
2025-10-06 21:46:53,551 - __main__ - INFO - 🔌 Connection closed
2025-10-06 21:46:53,551 - __main__ - INFO - 
🔄 Reconnecting for second test...
2025-10-06 21:46:54,552 - __main__ - INFO - 🔌 Connecting to ws://localhost:8001/ws/chat
2025-10-06 21:46:54,553 - websockets.client - DEBUG - = connection is CONNECTING
2025-10-06 21:46:54,554 - websockets.client - DEBUG - > GET /ws/chat HTTP/1.1
2025-10-06 21:46:54,554 - websockets.client - DEBUG - > Host: localhost:8001
2025-10-06 21:46:54,554 - websockets.client - DEBUG - > Upgrade: websocket
2025-10-06 21:46:54,554 - websockets.client - DEBUG - > Connection: Upgrade
2025-10-06 21:46:54,554 - websockets.client - DEBUG - > Sec-WebSocket-Key: PcMLgYALSPZ5kmWW0v0pDw==
2025-10-06 21:46:54,554 - websockets.client - DEBUG - > Sec-WebSocket-Version: 13
2025-10-06 21:46:54,554 - websockets.client - DEBUG - > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
2025-10-06 21:46:54,554 - websockets.client - DEBUG - > User-Agent: Python/3.13 websockets/10.4
2025-10-06 21:46:54,555 - websockets.client - DEBUG - < HTTP/1.1 101 Switching Protocols
2025-10-06 21:46:54,555 - websockets.client - DEBUG - < Upgrade: websocket
2025-10-06 21:46:54,555 - websockets.client - DEBUG - < Connection: Upgrade
2025-10-06 21:46:54,555 - websockets.client - DEBUG - < Sec-WebSocket-Accept: 40793hwI/yBZ43CeyaiLUe7TKz4=
2025-10-06 21:46:54,555 - websockets.client - DEBUG - < Sec-WebSocket-Extensions: permessage-deflate
2025-10-06 21:46:54,555 - websockets.client - DEBUG - < date: Mon, 06 Oct 2025 19:46:54 GMT
2025-10-06 21:46:54,555 - websockets.client - DEBUG - < server: uvicorn
2025-10-06 21:46:54,555 - websockets.client - DEBUG - = connection is OPEN
2025-10-06 21:46:54,555 - websockets.client - DEBUG - < TEXT '{"type":"connected","message":"Connected to KI ...","requires_init":true}' [277 bytes]
2025-10-06 21:46:54,555 - __main__ - INFO - 📥 Initial message: {
  "type": "connected",
  "message": "Connected to KI AutoAgent LangGraph System v5.8.1. Please send init message with workspace_path.",
  "session_id": "e754ef59-7d32-4d56-af54-fa7e9a25ef29",
  "client_id": "client_72f3616c",
  "version": "v5.8.1-multi-client-architecture",
  "requires_init": true
}
2025-10-06 21:46:54,556 - __main__ - INFO - 📝 Initialization required, sending workspace path
2025-10-06 21:46:54,556 - websockets.client - DEBUG - > TEXT '{"type": "init", "workspace_path": "/Users/domi...stAIFeatures_20251006"}' [90 bytes]
2025-10-06 21:46:54,556 - websockets.client - DEBUG - < TEXT '{"type":"initialized","session_id":"e754ef59-7d...stAIFeatures_20251006"}' [264 bytes]
2025-10-06 21:46:54,556 - __main__ - INFO - 📥 Init response: {
  "type": "initialized",
  "session_id": "e754ef59-7d32-4d56-af54-fa7e9a25ef29",
  "client_id": "client_72f3616c",
  "workspace_path": "/Users/dominikfoert/TestApps/TestAIFeatures_20251006",
  "message": "Workspace initialized: /Users/dominikfoert/TestApps/TestAIFeatures_20251006"
}
2025-10-06 21:46:54,556 - __main__ - INFO - ✅ Connected and initialized! Session: e754ef59-7d32-4d56-af54-fa7e9a25ef29
2025-10-06 21:46:54,556 - __main__ - INFO - 
📋 Test 3: Complex Task
2025-10-06 21:46:54,556 - __main__ - INFO - 📤 Sending task: Analyze the WebSocket communication in backend/api/server.py and identify any potential issues...
2025-10-06 21:46:54,556 - __main__ - DEBUG - Full message: {
  "type": "chat",
  "content": "Analyze the WebSocket communication in backend/api/server.py and identify any potential issues",
  "agent": "auto",
  "mode": "auto"
}
2025-10-06 21:46:54,556 - websockets.client - DEBUG - > TEXT '{"type": "chat", "content": "Analyze the WebSoc..."auto", "mode": "auto"}' [158 bytes]
2025-10-06 21:46:54,557 - websockets.client - DEBUG - < TEXT '{"type":"agent_thinking","agent":"orchestrator"...g LangGraph v5.8.1..."}' [115 bytes]
2025-10-06 21:46:54,557 - __main__ - INFO - 💭 Agent thinking: orchestrator
2025-10-06 21:46:54,772 - websockets.client - DEBUG - < TEXT '{"type":"step_completed","agent":"orchestrator"... gezielt helfen kann?"}' [222 bytes]
2025-10-06 21:46:54,772 - websockets.client - DEBUG - < TEXT '{"type":"agent_response","agent":"orchestrator"...,"status":"completed"}}' [304 bytes]
2025-10-06 21:46:54,772 - __main__ - DEBUG - 📨 Message type: step_completed, Agent: orchestrator
2025-10-06 21:46:54,772 - __main__ - INFO - 📥 Response from orchestrator (status: success)
2025-10-06 21:46:54,772 - __main__ - INFO - Content preview: Ich verstehe Ihre Entwicklungs-Anfrage. Könnten Sie bitte mehr Details angeben, damit ich Ihnen gezielt helfen kann?...
2025-10-06 21:46:54,772 - __main__ - INFO - ✅ Task completed successfully!
2025-10-06 21:46:54,772 - websockets.client - DEBUG - = connection is CLOSING
2025-10-06 21:46:54,772 - websockets.client - DEBUG - > CLOSE 1000 (OK) [2 bytes]
2025-10-06 21:46:54,772 - websockets.client - DEBUG - < CLOSE 1000 (OK) [2 bytes]
2025-10-06 21:46:54,773 - websockets.client - DEBUG - = connection is CLOSED
2025-10-06 21:46:54,773 - __main__ - INFO - 🔌 Connection closed
2025-10-06 21:46:54,773 - __main__ - INFO - 
============================================================
2025-10-06 21:46:54,773 - __main__ - INFO - 📊 Test Summary
2025-10-06 21:46:54,773 - __main__ - INFO - ============================================================
2025-10-06 21:46:54,773 - __main__ - INFO - Total messages received: 4
2025-10-06 21:46:54,773 - __main__ - INFO - Message type breakdown:
2025-10-06 21:46:54,773 - __main__ - INFO -   - agent_thinking: 2
2025-10-06 21:46:54,773 - __main__ - INFO -   - step_completed: 1
2025-10-06 21:46:54,773 - __main__ - INFO -   - agent_response: 1
2025-10-06 21:46:54,773 - __main__ - INFO - 
✅ Debug Features Verified:
2025-10-06 21:46:54,773 - __main__ - INFO -   - Agent thinking messages: ✓
2025-10-06 21:46:54,773 - __main__ - INFO -   - Progress updates: ✗
2025-10-06 21:46:54,773 - __main__ - INFO -   - Final responses: ✓
2025-10-06 21:46:54,773 - __main__ - INFO - 
📁 Full message log saved to test_websocket_messages.json
2025-10-06 21:46:54,773 - __main__ - INFO - 📁 Debug log saved to test_websocket_debug.log
2025-10-06 21:46:54,774 - __main__ - INFO - 
🕐 Test completed at 2025-10-06 21:46:54
