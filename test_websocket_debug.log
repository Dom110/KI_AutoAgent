2025-09-25 08:39:44,928 - __main__ - INFO - 🕐 Test started at 2025-09-25 08:39:44
2025-09-25 08:39:44,928 - asyncio - DEBUG - Using selector: KqueueSelector
2025-09-25 08:39:44,929 - __main__ - INFO - ============================================================
2025-09-25 08:39:44,929 - __main__ - INFO - 🚀 Starting WebSocket Debug Test
2025-09-25 08:39:44,929 - __main__ - INFO - ============================================================
2025-09-25 08:39:44,929 - __main__ - INFO - 
📋 Test 1: Establishing Connection
2025-09-25 08:39:44,929 - __main__ - INFO - 🔌 Connecting to ws://localhost:8000/ws/chat
2025-09-25 08:39:44,947 - websockets.client - DEBUG - = connection is CONNECTING
2025-09-25 08:39:44,947 - websockets.client - DEBUG - > GET /ws/chat HTTP/1.1
2025-09-25 08:39:44,947 - websockets.client - DEBUG - > Host: localhost:8000
2025-09-25 08:39:44,947 - websockets.client - DEBUG - > Upgrade: websocket
2025-09-25 08:39:44,947 - websockets.client - DEBUG - > Connection: Upgrade
2025-09-25 08:39:44,947 - websockets.client - DEBUG - > Sec-WebSocket-Key: OBQyEbTaBExcaxiK6vmv/Q==
2025-09-25 08:39:44,948 - websockets.client - DEBUG - > Sec-WebSocket-Version: 13
2025-09-25 08:39:44,948 - websockets.client - DEBUG - > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
2025-09-25 08:39:44,948 - websockets.client - DEBUG - > User-Agent: Python/3.13 websockets/10.4
2025-09-25 08:40:44,463 - __main__ - INFO - 🕐 Test started at 2025-09-25 08:40:44
2025-09-25 08:40:44,463 - asyncio - DEBUG - Using selector: KqueueSelector
2025-09-25 08:40:44,463 - __main__ - INFO - ============================================================
2025-09-25 08:40:44,463 - __main__ - INFO - 🚀 Starting WebSocket Debug Test
2025-09-25 08:40:44,463 - __main__ - INFO - ============================================================
2025-09-25 08:40:44,464 - __main__ - INFO - 
📋 Test 1: Establishing Connection
2025-09-25 08:40:44,464 - __main__ - INFO - 🔌 Connecting to ws://localhost:8000/ws/chat
2025-09-25 08:40:44,484 - websockets.client - DEBUG - = connection is CONNECTING
2025-09-25 08:40:44,485 - websockets.client - DEBUG - > GET /ws/chat HTTP/1.1
2025-09-25 08:40:44,485 - websockets.client - DEBUG - > Host: localhost:8000
2025-09-25 08:40:44,485 - websockets.client - DEBUG - > Upgrade: websocket
2025-09-25 08:40:44,485 - websockets.client - DEBUG - > Connection: Upgrade
2025-09-25 08:40:44,485 - websockets.client - DEBUG - > Sec-WebSocket-Key: cEt2gvyEvv4tLPEmyLsPEQ==
2025-09-25 08:40:44,485 - websockets.client - DEBUG - > Sec-WebSocket-Version: 13
2025-09-25 08:40:44,485 - websockets.client - DEBUG - > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
2025-09-25 08:40:44,485 - websockets.client - DEBUG - > User-Agent: Python/3.13 websockets/10.4
2025-09-25 08:40:44,487 - websockets.client - DEBUG - < HTTP/1.1 101 Switching Protocols
2025-09-25 08:40:44,487 - websockets.client - DEBUG - < Upgrade: websocket
2025-09-25 08:40:44,487 - websockets.client - DEBUG - < Connection: Upgrade
2025-09-25 08:40:44,487 - websockets.client - DEBUG - < Sec-WebSocket-Accept: oBwugVaimBKaF7Wj91xo2qQd0ic=
2025-09-25 08:40:44,487 - websockets.client - DEBUG - < Sec-WebSocket-Extensions: permessage-deflate
2025-09-25 08:40:44,487 - websockets.client - DEBUG - < date: Thu, 25 Sep 2025 06:40:44 GMT
2025-09-25 08:40:44,487 - websockets.client - DEBUG - < server: uvicorn
2025-09-25 08:40:44,487 - websockets.client - DEBUG - = connection is OPEN
2025-09-25 08:40:44,487 - websockets.client - DEBUG - < TEXT '{"type":"connection","status":"connected","clie...09-25T08:40:44.486699"}' [157 bytes]
2025-09-25 08:40:44,487 - __main__ - INFO - ✅ Connected! Client ID: client_0
2025-09-25 08:40:44,487 - __main__ - INFO - 
📋 Test 2: Simple Query
2025-09-25 08:40:44,487 - __main__ - INFO - 📤 Sending task: What agents are available in the system?...
2025-09-25 08:40:44,487 - __main__ - DEBUG - Full message: {
  "type": "chat",
  "content": "What agents are available in the system?",
  "agent": "auto",
  "mode": "auto"
}
2025-09-25 08:40:44,487 - websockets.client - DEBUG - > TEXT '{"type": "chat", "content": "What agents are av..."auto", "mode": "auto"}' [104 bytes]
2025-09-25 08:40:44,489 - websockets.client - DEBUG - < TEXT '{"type":"agent_thinking","agent":"orchestrator"...ator is processing..."}' [95 bytes]
2025-09-25 08:40:44,489 - __main__ - INFO - 💭 Agent thinking: orchestrator
2025-09-25 08:40:45,490 - __main__ - INFO - 
📋 Test 3: Complex Task
2025-09-25 08:40:45,490 - __main__ - INFO - 📤 Sending task: Analyze the WebSocket communication in backend/api/server.py and identify any potential issues...
2025-09-25 08:40:45,491 - __main__ - DEBUG - Full message: {
  "type": "chat",
  "content": "Analyze the WebSocket communication in backend/api/server.py and identify any potential issues",
  "agent": "auto",
  "mode": "auto"
}
2025-09-25 08:40:45,491 - websockets.client - DEBUG - > TEXT '{"type": "chat", "content": "Analyze the WebSoc..."auto", "mode": "auto"}' [158 bytes]
2025-09-25 08:40:46,492 - websockets.client - DEBUG - = connection is CLOSING
2025-09-25 08:40:46,492 - websockets.client - DEBUG - > CLOSE 1000 (OK) [2 bytes]
2025-09-25 08:45:49,230 - __main__ - INFO - 🕐 Test started at 2025-09-25 08:45:49
2025-09-25 08:45:49,230 - asyncio - DEBUG - Using selector: KqueueSelector
2025-09-25 08:45:49,230 - __main__ - INFO - ============================================================
2025-09-25 08:45:49,230 - __main__ - INFO - 🚀 Starting WebSocket Debug Test
2025-09-25 08:45:49,230 - __main__ - INFO - ============================================================
2025-09-25 08:45:49,230 - __main__ - INFO - 
📋 Test 1: Establishing Connection
2025-09-25 08:45:49,230 - __main__ - INFO - 🔌 Connecting to ws://localhost:8000/ws/chat
2025-09-25 08:45:49,250 - __main__ - ERROR - ❌ Connection failed: Multiple exceptions: [Errno 61] Connect call failed ('127.0.0.1', 8000), [Errno 61] Connect call failed ('::1', 8000, 0, 0)
2025-09-25 08:45:49,250 - __main__ - ERROR - Failed to connect. Is the server running on port 8001?
2025-09-25 08:45:49,250 - __main__ - INFO - 
🕐 Test completed at 2025-09-25 08:45:49
2025-09-25 08:46:27,314 - __main__ - INFO - 🕐 Test started at 2025-09-25 08:46:27
2025-09-25 08:46:27,314 - asyncio - DEBUG - Using selector: KqueueSelector
2025-09-25 08:46:27,314 - __main__ - INFO - ============================================================
2025-09-25 08:46:27,314 - __main__ - INFO - 🚀 Starting WebSocket Debug Test
2025-09-25 08:46:27,314 - __main__ - INFO - ============================================================
2025-09-25 08:46:27,314 - __main__ - INFO - 
📋 Test 1: Establishing Connection
2025-09-25 08:46:27,314 - __main__ - INFO - 🔌 Connecting to ws://localhost:8000/ws/chat
2025-09-25 08:46:27,332 - websockets.client - DEBUG - = connection is CONNECTING
2025-09-25 08:46:27,332 - websockets.client - DEBUG - > GET /ws/chat HTTP/1.1
2025-09-25 08:46:27,332 - websockets.client - DEBUG - > Host: localhost:8000
2025-09-25 08:46:27,332 - websockets.client - DEBUG - > Upgrade: websocket
2025-09-25 08:46:27,332 - websockets.client - DEBUG - > Connection: Upgrade
2025-09-25 08:46:27,332 - websockets.client - DEBUG - > Sec-WebSocket-Key: krs0MEbanP8MCHLeQuh97A==
2025-09-25 08:46:27,332 - websockets.client - DEBUG - > Sec-WebSocket-Version: 13
2025-09-25 08:46:27,333 - websockets.client - DEBUG - > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
2025-09-25 08:46:27,333 - websockets.client - DEBUG - > User-Agent: Python/3.13 websockets/10.4
2025-09-25 08:46:27,335 - websockets.client - DEBUG - < HTTP/1.1 101 Switching Protocols
2025-09-25 08:46:27,335 - websockets.client - DEBUG - < Upgrade: websocket
2025-09-25 08:46:27,335 - websockets.client - DEBUG - < Connection: Upgrade
2025-09-25 08:46:27,335 - websockets.client - DEBUG - < Sec-WebSocket-Accept: tBD1IO+SSOYLNjpcQmXUnFPYJbE=
2025-09-25 08:46:27,335 - websockets.client - DEBUG - < Sec-WebSocket-Extensions: permessage-deflate
2025-09-25 08:46:27,335 - websockets.client - DEBUG - < date: Thu, 25 Sep 2025 06:46:26 GMT
2025-09-25 08:46:27,335 - websockets.client - DEBUG - < server: uvicorn
2025-09-25 08:46:27,335 - websockets.client - DEBUG - = connection is OPEN
2025-09-25 08:46:27,335 - websockets.client - DEBUG - < TEXT '{"type":"connection","status":"connected","clie...09-25T08:46:27.334432"}' [157 bytes]
2025-09-25 08:46:27,335 - __main__ - INFO - ✅ Connected! Client ID: client_0
2025-09-25 08:46:27,335 - __main__ - INFO - 
📋 Test 2: Simple Query
2025-09-25 08:46:27,335 - __main__ - INFO - 📤 Sending task: What agents are available in the system?...
2025-09-25 08:46:27,335 - __main__ - DEBUG - Full message: {
  "type": "chat",
  "content": "What agents are available in the system?",
  "agent": "auto",
  "mode": "auto"
}
2025-09-25 08:46:27,335 - websockets.client - DEBUG - > TEXT '{"type": "chat", "content": "What agents are av..."auto", "mode": "auto"}' [104 bytes]
2025-09-25 08:46:27,337 - websockets.client - DEBUG - < TEXT '{"type":"agent_thinking","agent":"orchestrator"...ator is processing..."}' [95 bytes]
2025-09-25 08:46:27,337 - __main__ - INFO - 💭 Agent thinking: orchestrator
2025-09-25 08:46:27,339 - websockets.client - DEBUG - < TEXT '{"type":"agent_progress","agent":"orchestrator"...09-25T08:46:27.338888"}' [132 bytes]
2025-09-25 08:46:27,339 - __main__ - INFO - 📊 Progress from orchestrator: 🤔 Analyzing your request...
2025-09-25 08:46:27,339 - websockets.client - DEBUG - < TEXT '{"type":"agent_progress","agent":"orchestrator"...09-25T08:46:27.338984"}' [136 bytes]
2025-09-25 08:46:27,339 - __main__ - INFO - 📊 Progress from orchestrator: 🎯 Detected complex task: system
2025-09-25 08:46:27,339 - websockets.client - DEBUG - < TEXT '{"type":"agent_progress","agent":"orchestrator"...09-25T08:46:27.339068"}' [150 bytes]
2025-09-25 08:46:27,339 - websockets.client - DEBUG - < TEXT '{"type":"agent_progress","agent":"orchestrator"...09-25T08:46:27.339141"}' [146 bytes]
2025-09-25 08:46:27,339 - __main__ - INFO - 📊 Progress from orchestrator: 🔧 Breaking down your request into subtasks...
2025-09-25 08:46:27,339 - __main__ - INFO - 📊 Progress from orchestrator: 🏗️ Infrastructure task detected: system
2025-09-25 08:46:27,339 - websockets.client - DEBUG - < TEXT '{"type":"agent_progress","agent":"orchestrator"...09-25T08:46:27.339252"}' [148 bytes]
2025-09-25 08:46:27,339 - websockets.client - DEBUG - < TEXT '{"type":"agent_progress","agent":"orchestrator"...09-25T08:46:27.339315"}' [130 bytes]
2025-09-25 08:46:27,339 - __main__ - INFO - 📊 Progress from orchestrator: 🏗️ Created workflow with 6 analysis tasks
2025-09-25 08:46:27,339 - __main__ - INFO - 📊 Progress from orchestrator: 🎯 Executing 6 subtasks...
2025-09-25 08:46:27,341 - websockets.client - DEBUG - < TEXT '{"type":"agent_progress","agent":"architect","c...09-25T08:46:27.341480"}' [144 bytes]
2025-09-25 08:46:27,341 - __main__ - INFO - 📊 Progress from architect: 🏗️ Architect starting system analysis...
2025-09-25 08:46:27,341 - websockets.client - DEBUG - < TEXT '{"type":"agent_progress","agent":"architect","c...09-25T08:46:27.341610"}' [153 bytes]
2025-09-25 08:46:27,341 - __main__ - INFO - 📊 Progress from architect: 🔍 Using understand_system() to analyze workspace...
2025-09-25 08:46:27,342 - websockets.client - DEBUG - < TEXT '{"type":"agent_progress","agent":"architect","c...09-25T08:46:27.342068"}' [153 bytes]
2025-09-25 08:46:27,342 - __main__ - INFO - 📊 Progress from architect: 🏗️ Building comprehensive system understanding...
2025-09-25 08:46:27,342 - websockets.client - DEBUG - < TEXT '{"type":"agent_progress","agent":"architect","c...09-25T08:46:27.342180"}' [150 bytes]
2025-09-25 08:46:27,342 - __main__ - INFO - 📊 Progress from architect: 📂 Phase 1: Indexing codebase with AST parsing...
2025-09-25 08:46:27,346 - websockets.client - DEBUG - < TEXT '{"type":"agent_progress","agent":"architect","c...09-25T08:46:27.346011"}' [165 bytes]
2025-09-25 08:46:27,346 - __main__ - INFO - 📊 Progress from architect: 📂 Phase 1/6: Indexing 58 files (using .gitignore + defaults)...
2025-09-25 08:46:28,346 - __main__ - INFO - 
📋 Test 3: Complex Task
2025-09-25 08:46:28,346 - __main__ - INFO - 📤 Sending task: Analyze the WebSocket communication in backend/api/server.py and identify any potential issues...
2025-09-25 08:46:28,346 - __main__ - DEBUG - Full message: {
  "type": "chat",
  "content": "Analyze the WebSocket communication in backend/api/server.py and identify any potential issues",
  "agent": "auto",
  "mode": "auto"
}
2025-09-25 08:46:28,346 - websockets.client - DEBUG - > TEXT '{"type": "chat", "content": "Analyze the WebSoc..."auto", "mode": "auto"}' [158 bytes]
2025-09-25 08:46:29,348 - websockets.client - DEBUG - = connection is CLOSING
2025-09-25 08:46:29,348 - websockets.client - DEBUG - > CLOSE 1000 (OK) [2 bytes]
