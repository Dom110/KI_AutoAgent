# KI AutoAgent Backend Requirements
# Python 3.11+ required (tested with Python 3.13)
# Note: Some packages may need --break-system-packages flag on macOS with Homebrew Python

# Core Framework
fastapi==0.117.1
uvicorn[standard]==0.37.0
uvloop==0.21.0  # High-performance event loop (2-4x faster than asyncio) (v5.9.0)
websockets==10.4
python-multipart==0.0.6

# AI Services
openai==1.109.1
anthropic==0.68.0
google-generativeai>=0.8.3  # For Gemini video understanding (v5.8.2)
aiohttp==3.10.5  # For Perplexity API integration
# perplexity-python==0.1.0  # Not available for Python 3.13

# Memory & Storage
chromadb==0.4.15
redis==6.4.0
sqlalchemy==2.0.23
aiosqlite==0.20.0  # Async SQLite for non-blocking DB operations (v5.9.0)
msgpack>=1.1.0,<2.0.0  # For langgraph-checkpoint compatibility
watchdog==6.0.0

# Communication
asyncio-mqtt==0.16.1
aiokafka==0.10.0

# Utils
pydantic==2.11.9
pydantic-core==2.33.2  # Required for pydantic v2
pydantic-settings>=2.4.0,<3.0.0  # For langchain-community compatibility
python-dotenv==1.1.1
httpx==0.28.1
aiofiles==23.2.1
starlette==0.48.0  # Required for FastAPI
anyio==4.11.0  # Required for async support
orjson==3.10.12  # Fast JSON serialization (2-3x faster than stdlib) (v5.9.0)
tenacity==9.0.0  # Retry logic and Circuit Breaker pattern (v5.9.0)

# Testing
pytest==7.4.3
pytest-asyncio==0.21.1
pytest-mock==3.12.0
pytest-cov==4.1.0

# Development
black==23.11.0
ruff==0.1.6
mypy==1.11.2  # Updated for Python 3.13 compatibility (no typed-ast dependency)

# Code Analysis & Indexing
tree-sitter==0.25.1  # Updated for Python 3.13 compatibility
tree-sitter-python==0.25.0
tree-sitter-javascript==0.25.0
tree-sitter-typescript==0.23.2
jedi==0.19.1
parso==0.8.3

# Language Server Protocol
python-lsp-server==1.10.0
# typescript-language-server==4.3.0  # Install via npm if needed

# Visualization
mermaid-py==0.5.0
graphviz==0.20.3
pyvis==0.3.2
diagrams==0.24.4  # Updated for Python 3.13 compatibility (no typed-ast dependency)

# LangGraph and LangChain for Agent Communication
langgraph==0.2.45
langchain==0.3.9
langchain-core==0.3.21
langchain-community==0.3.8
langchain-openai==0.2.10
langchain-anthropic==0.3.0
langgraph-checkpoint==2.0.7
langgraph-checkpoint-sqlite==2.0.1
faiss-cpu==1.12.0  # For vector memory (updated from 1.9.0 for Python 3.13 compatibility)

# Code Analysis Tools
semgrep==1.52.0
bandit==1.7.6
vulture==2.11
radon==6.0.1

# Profiling
py-spy==0.3.14
austin-python==1.7.0
memory-profiler==0.61.0
scalene==1.5.55  # Latest version - may have Python 3.13 fixes

# Additional Utilities
pygments==2.17.2  # Syntax highlighting
rich==13.7.0      # Pretty output